# é—®é¢˜ç®€ä»‹

[LeetCode 102. äºŒå‰æ ‘çš„å±‚åºéå†](https://leetcode.cn/problems/binary-tree-level-order-traversal?envType=problem-list-v2&envId=2cktkvj)

## é¢˜ç›®æè¿°

ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root`ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„ **å±‚åºéå†**ã€‚ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚

______________________________________________________________________

## ç¤ºä¾‹è¯´æ˜

### ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šroot = [3,9,20,null,null,15,7]
è¾“å‡ºï¼š[[3],[9,20],[15,7]]
```

### ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šroot = [1]
è¾“å‡ºï¼š[[1]]
```

### ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šroot = []
è¾“å‡ºï¼š[]
```

ğŸ“Œ **è§£é‡Š**ï¼š

- å±‚åºéå†ï¼ˆBFSï¼‰è¦æ±‚æŒ‰å±‚çº§ä»ä¸Šåˆ°ä¸‹ã€æ¯å±‚ä»å·¦åˆ°å³ä¾æ¬¡è®¿é—®èŠ‚ç‚¹ã€‚
- è¿”å›ç»“æœæ˜¯ä¸€ä¸ªäºŒç»´åˆ—è¡¨ï¼Œæ¯ä¸ªå­åˆ—è¡¨ä»£è¡¨ä¸€å±‚çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ã€‚

______________________________________________________________________

## è§£é¢˜æ€è·¯

### âœ… æ–¹æ³•ä¸€ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ + é˜Ÿåˆ—

è¿™æ˜¯æœ€ç›´è§‚çš„æ–¹æ³•ã€‚åˆ©ç”¨é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„ç‰¹æ€§ï¼Œé€å±‚å¤„ç†èŠ‚ç‚¹ã€‚

**æ­¥éª¤å¦‚ä¸‹ï¼š**

1. è‹¥æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥è¿”å›ç©ºåˆ—è¡¨ã€‚
1. åˆå§‹åŒ–ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå°†æ ¹èŠ‚ç‚¹å…¥é˜Ÿã€‚
1. å½“é˜Ÿåˆ—éç©ºæ—¶ï¼š
   - è®°å½•å½“å‰é˜Ÿåˆ—çš„å¤§å°ï¼ˆå³å½“å‰å±‚çš„èŠ‚ç‚¹æ•°ï¼‰ã€‚
   - åˆ›å»ºä¸€ä¸ªä¸´æ—¶åˆ—è¡¨å­˜å‚¨å½“å‰å±‚çš„èŠ‚ç‚¹å€¼ã€‚
   - å¾ªç¯å¤„ç†å½“å‰å±‚çš„æ‰€æœ‰èŠ‚ç‚¹ï¼š
     - å‡ºé˜Ÿä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†å…¶å€¼åŠ å…¥ä¸´æ—¶åˆ—è¡¨ã€‚
     - è‹¥è¯¥èŠ‚ç‚¹æœ‰å·¦å­èŠ‚ç‚¹ï¼Œå…¥é˜Ÿã€‚
     - è‹¥è¯¥èŠ‚ç‚¹æœ‰å³å­èŠ‚ç‚¹ï¼Œå…¥é˜Ÿã€‚
   - å°†ä¸´æ—¶åˆ—è¡¨åŠ å…¥æœ€ç»ˆç»“æœã€‚
1. è¿”å›ç»“æœã€‚

### ğŸ’¡ æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ + é€’å½’ï¼ˆå¸¦å±‚çº§å‚æ•°ï¼‰

è™½ç„¶ DFS é€šå¸¸æ˜¯å‰/ä¸­/ååºï¼Œä½†é€šè¿‡ä¼ é€’å½“å‰æ·±åº¦ï¼Œä¹Ÿå¯ä»¥å®ç°å±‚åºéå†ã€‚

**æ­¥éª¤å¦‚ä¸‹ï¼š**

1. å®šä¹‰é€’å½’å‡½æ•° `dfs(node, level)`ã€‚
1. å¦‚æœ `node` ä¸ºç©ºï¼Œç›´æ¥è¿”å›ã€‚
1. å¦‚æœ `result` çš„é•¿åº¦ç­‰äº `level`ï¼Œè¯´æ˜é¦–æ¬¡åˆ°è¾¾è¯¥å±‚ï¼Œæ·»åŠ ä¸€ä¸ªæ–°åˆ—è¡¨ã€‚
1. å°†å½“å‰èŠ‚ç‚¹å€¼åŠ å…¥ `result[level]`ã€‚
1. é€’å½’å¤„ç†å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå±‚çº§ +1ã€‚

> âš ï¸ æ³¨æ„ï¼šå¿…é¡»å…ˆå¤„ç†å·¦å­æ ‘å†å³å­æ ‘ï¼Œæ‰èƒ½ä¿è¯æ¯å±‚ä»å·¦åˆ°å³çš„é¡ºåºã€‚

______________________________________________________________________

## ä»£ç å®ç°

<div class="code-tabs">

```java:Java
// æ–¹æ³•ä¸€ï¼šBFSï¼ˆæ¨èï¼‰
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        List<List<Integer>> result = new ArrayList<>();
        if (root == null) return result;
        
        Queue<TreeNode> queue = new LinkedList<>();
        queue.offer(root);
        
        while (!queue.isEmpty()) {
            int size = queue.size();
            List<Integer> level = new ArrayList<>();
            
            for (int i = 0; i < size; i++) {
                TreeNode node = queue.poll();
                level.add(node.val);
                
                if (node.left != null) queue.offer(node.left);
                if (node.right != null) queue.offer(node.right);
            }
            
            result.add(level);
        }
        
        return result;
    }
}

// æ–¹æ³•äºŒï¼šDFSï¼ˆé€’å½’ï¼‰
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        List<List<Integer>> result = new ArrayList<>();
        dfs(root, 0, result);
        return result;
    }
    
    private void dfs(TreeNode node, int level, List<List<Integer>> result) {
        if (node == null) return;
        
        if (result.size() == level) {
            result.add(new ArrayList<>());
        }
        
        result.get(level).add(node.val);
        dfs(node.left, level + 1, result);
        dfs(node.right, level + 1, result);
    }
}
```

```go:Go
// æ–¹æ³•ä¸€ï¼šBFSï¼ˆæ¨èï¼‰
func levelOrder(root *TreeNode) [][]int {
    if root == nil {
        return [][]int{}
    }
    
    result := [][]int{}
    queue := []*TreeNode{root}
    
    for len(queue) > 0 {
        size := len(queue)
        level := []int{}
        
        for i := 0; i < size; i++ {
            node := queue[0]
            queue = queue[1:]
            level = append(level, node.Val)
            
            if node.Left != nil {
                queue = append(queue, node.Left)
            }
            if node.Right != nil {
                queue = append(queue, node.Right)
            }
        }
        
        result = append(result, level)
    }
    
    return result
}

// æ–¹æ³•äºŒï¼šDFSï¼ˆé€’å½’ï¼‰
func levelOrder(root *TreeNode) [][]int {
    result := [][]int{}
    dfs(root, 0, &result)
    return result
}

func dfs(node *TreeNode, level int, result *[][]int) {
    if node == nil {
        return
    }
    
    if len(*result) == level {
        *result = append(*result, []int{})
    }
    
    (*result)[level] = append((*result)[level], node.Val)
    dfs(node.Left, level+1, result)
    dfs(node.Right, level+1, result)
}
```

</div>

______________________________________________________________________

## ç¤ºä¾‹æ¼”ç¤º

ä»¥ `root = [3,9,20,null,null,15,7]` ä¸ºä¾‹ï¼š

```
       3
      / \
     9   20
        /  \
       15   7
```

**BFS è¿‡ç¨‹ï¼š**

| é˜Ÿåˆ—çŠ¶æ€ï¼ˆæ¯è½®å¼€å§‹å‰ï¼‰ | å½“å‰å±‚è¾“å‡º | æ“ä½œ |
|----------------------|----------|------|
| [3] | [3] | å‡º3ï¼Œå…¥9ã€20 |
| [9,20] | [9,20] | å‡º9ï¼ˆæ— å­ï¼‰ï¼Œå‡º20ï¼Œå…¥15ã€7 |
| [15,7] | [15,7] | å‡º15ã€7ï¼ˆå‡æ— å­ï¼‰ |
| [] | â€” | ç»“æŸ |

âœ… æœ€ç»ˆç»“æœï¼š`[[3],[9,20],[15,7]]`

______________________________________________________________________

## ç­”æ¡ˆæœ‰æ•ˆæ€§è¯æ˜

- **æ­£ç¡®æ€§**ï¼š
  - BFS æ–¹æ³•ä¸¥æ ¼æŒ‰å±‚çº§å¤„ç†ï¼Œæ¯è½®åªå¤„ç†å½“å‰å±‚æ‰€æœ‰èŠ‚ç‚¹ï¼Œç¡®ä¿å±‚çº§éš”ç¦»ã€‚
  - DFS æ–¹æ³•é€šè¿‡ `level` å‚æ•°å°†èŠ‚ç‚¹å€¼æ”¾å…¥å¯¹åº”å±‚çº§åˆ—è¡¨ï¼Œä¸”å…ˆå·¦åå³ï¼Œé¡ºåºæ­£ç¡®ã€‚
- **è¾¹ç•Œå¤„ç†**ï¼š
  - ç©ºæ ‘ â†’ è¿”å›ç©ºåˆ—è¡¨ âœ…
  - å•èŠ‚ç‚¹ â†’ è¿”å› `[[val]]` âœ…
  - ä¸å¹³è¡¡æ ‘ï¼ˆå¦‚åªæœ‰å·¦å­æ ‘ï¼‰â†’ ä»èƒ½æ­£ç¡®åˆ†å±‚ âœ…

______________________________________________________________________

## å¤æ‚åº¦åˆ†æ

| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | è¯´æ˜ |
|------|-----------|-----------|------|
| BFS | O(n) | O(w) | `w` ä¸ºæ ‘çš„æœ€å¤§å®½åº¦ï¼ˆé˜Ÿåˆ—æœ€å¤§é•¿åº¦ï¼‰ |
| DFS | O(n) | O(h) | `h` ä¸ºæ ‘çš„é«˜åº¦ï¼ˆé€’å½’æ ˆæ·±åº¦ï¼‰ |

> å…¶ä¸­ `n` ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚ä¸¤ç§æ–¹æ³•éƒ½éœ€è®¿é—®æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ï¼Œæ•…æ—¶é—´å¤æ‚åº¦å‡ä¸º O(n)ã€‚

______________________________________________________________________

## é—®é¢˜æ€»ç»“

âœ… **å…³é”®ç‚¹å›é¡¾ï¼š**

- å±‚åºéå† = BFSï¼Œå¤©ç„¶é€‚åˆç”¨é˜Ÿåˆ—å®ç°ã€‚
- DFS ä¹Ÿèƒ½åšï¼Œä½†éœ€é¢å¤–è®°å½•å±‚çº§ä¿¡æ¯ã€‚
- æ¯å±‚å¤„ç†æ—¶ï¼Œå¿…é¡»**å…ˆè®°å½•å½“å‰é˜Ÿåˆ—å¤§å°**ï¼Œå¦åˆ™ä¼šæ··å…¥ä¸‹ä¸€å±‚èŠ‚ç‚¹ã€‚

ğŸ’¡ **æ‰©å±•æ€è€ƒï¼š**

- è‹¥è¦æ±‚â€œ**ä»ä¸‹å¾€ä¸Š**â€å±‚åºéå†ï¼Ÿâ†’ åªéœ€å°† BFS ç»“æœåè½¬ã€‚
- è‹¥è¦æ±‚â€œ**é”¯é½¿å½¢**â€éå†ï¼ˆZå­—å½¢ï¼‰ï¼Ÿâ†’ å¶æ•°å±‚åè½¬å³å¯ã€‚

ğŸ“Œ **é¢è¯•æç¤ºï¼š**

- ä¼˜å…ˆå†™ BFS è§£æ³•ï¼Œé€»è¾‘æ¸…æ™°ã€ä¸æ˜“å‡ºé”™ã€‚
- è‹¥è¢«é—®åˆ° DFS è§£æ³•ï¼Œå¯å±•ç¤ºå¯¹é€’å½’å’Œå±‚çº§æ§åˆ¶çš„ç†è§£ã€‚

æ­¤é¢˜æ˜¯äºŒå‰æ ‘éå†çš„åŸºç¡€é¢˜ï¼ŒæŒæ¡åå¯è½»æ¾åº”å¯¹ LeetCode ä¸­å¤šæ•°å±‚åºç›¸å…³å˜ç§ï¼ˆå¦‚ 103ã€107ã€199 ç­‰ï¼‰ã€‚
