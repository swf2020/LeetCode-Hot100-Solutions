#  15. ä¸‰æ•°ä¹‹å’Œï¼ˆ3Sumï¼‰

## ğŸ”— é—®é¢˜ç®€ä»‹

[LeetCode ä¸­æ–‡é“¾æ¥](https://leetcode.cn/problems/3sum?envType=problem-list-v2&envId=2cktkvj)

### ğŸ“ é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ `[nums[i], nums[j], nums[k]]` æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

- `i != j`ã€`i != k`ã€`j != k`
- `nums[i] + nums[j] + nums[k] == 0`

è¯·ä½ è¿”å›æ‰€æœ‰**å’Œä¸º 0** ä¸”**ä¸é‡å¤**çš„ä¸‰å…ƒç»„ã€‚

> æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

______________________________________________________________________

## ğŸ§ª ç¤ºä¾‹è¯´æ˜

### ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
è§£é‡Šï¼š
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0
nums[0] + nums[1] + nums[4] = (-1) + 0 + (-1) = -2 â‰  0
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0
```

### ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [0,1,1]
è¾“å‡ºï¼š[]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸ä¸º 0ã€‚
```

### ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šnums = [0,0,0]
è¾“å‡ºï¼š[[0,0,0]]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸º 0ã€‚
```

______________________________________________________________________

## ğŸ’¡ è§£é¢˜æ€è·¯

### âœ… ä¸»æµè§£æ³•ï¼šæ’åº + åŒæŒ‡é’ˆï¼ˆæ¨èï¼‰

#### æ­¥éª¤è¯¦è§£ï¼š

1. **æ’åºæ•°ç»„**\
   å…ˆå¯¹ `nums` è¿›è¡Œå‡åºæ’åºã€‚è¿™ä¸€æ­¥æ˜¯ä¸ºäº†åç»­ä½¿ç”¨åŒæŒ‡é’ˆï¼Œå¹¶æ–¹ä¾¿å»é‡ã€‚

1. **å›ºå®šç¬¬ä¸€ä¸ªæ•°ï¼ˆå¤–å±‚å¾ªç¯ï¼‰**\
   éå† `i` ä» `0` åˆ° `n - 3`ï¼ˆå› ä¸ºè‡³å°‘è¦ç•™ä¸¤ä¸ªä½ç½®ç»™ `j` å’Œ `k`ï¼‰ï¼š

   - å¦‚æœ `nums[i] > 0`ï¼Œç”±äºæ•°ç»„å·²æ’åºï¼Œåé¢ä¸å¯èƒ½å†æœ‰å’Œä¸º 0 çš„ç»„åˆï¼Œç›´æ¥ breakã€‚
   - **å»é‡å¤„ç†**ï¼šå¦‚æœ `i > 0` ä¸” `nums[i] == nums[i - 1]`ï¼Œè·³è¿‡ï¼Œé¿å…é‡å¤ä¸‰å…ƒç»„ã€‚

1. **åŒæŒ‡é’ˆæŸ¥æ‰¾å¦å¤–ä¸¤ä¸ªæ•°**\
   è®¾ `left = i + 1`ï¼Œ`right = n - 1`ï¼š

   - è®¡ç®—å½“å‰ä¸‰æ•°ä¹‹å’Œ `sum = nums[i] + nums[left] + nums[right]`
   - è‹¥ `sum == 0`ï¼š
     - å°† `[nums[i], nums[left], nums[right]]` åŠ å…¥ç»“æœ
     - **å»é‡**ï¼šç§»åŠ¨ `left` è·³è¿‡ç›¸åŒå€¼ï¼›ç§»åŠ¨ `right` è·³è¿‡ç›¸åŒå€¼
     - `left++`, `right--`
   - è‹¥ `sum < 0` â†’ `left++`
   - è‹¥ `sum > 0` â†’ `right--`

1. **è¿”å›ç»“æœ**

______________________________________________________________________

### âŒ å…¶ä»–è§£æ³•ï¼ˆä¸æ¨èï¼‰

| æ–¹æ³• | æè¿° | ç¼ºç‚¹ |
|------|------|------|
| æš´åŠ›ä¸‰é‡å¾ªç¯ | ä¸‰å±‚ for å¾ªç¯æšä¸¾æ‰€æœ‰ä¸‰å…ƒç»„ | æ—¶é—´å¤æ‚åº¦ O(nÂ³)ï¼Œè¶…æ—¶ |
| å“ˆå¸Œè¡¨ä¼˜åŒ–ä¸¤é‡å¾ªç¯ | å›ºå®šä¸¤ä¸ªæ•°ï¼Œç”¨å“ˆå¸ŒæŸ¥ç¬¬ä¸‰ä¸ª | éš¾ä»¥æœ‰æ•ˆå»é‡ï¼Œé€»è¾‘å¤æ‚ï¼Œä»å¯èƒ½ O(nÂ²) ç©ºé—´ |

> ğŸ’¡ **ç»“è®º**ï¼šæ’åº + åŒæŒ‡é’ˆ æ˜¯æœ€ä¼˜è§£ï¼Œå…¼é¡¾æ—¶é—´æ•ˆç‡ä¸å»é‡é€»è¾‘æ¸…æ™°ã€‚

______________________________________________________________________

## ğŸ’» ä»£ç å®ç°

<div class="code-tabs">

```java:Java
import java.util.*;

public class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        Arrays.sort(nums);
        List<List<Integer>> res = new ArrayList<>();
        int n = nums.length;
        
        for (int i = 0; i < n - 2; i++) {
            // å¦‚æœæœ€å°å€¼éƒ½å¤§äº0ï¼Œä¸å¯èƒ½æœ‰è§£
            if (nums[i] > 0) break;
            
            // è·³è¿‡é‡å¤çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
            if (i > 0 && nums[i] == nums[i - 1]) continue;
            
            int left = i + 1, right = n - 1;
            while (left < right) {
                int sum = nums[i] + nums[left] + nums[right];
                if (sum == 0) {
                    res.add(Arrays.asList(nums[i], nums[left], nums[right]));
                    
                    // è·³è¿‡é‡å¤çš„ left å’Œ right
                    while (left < right && nums[left] == nums[left + 1]) left++;
                    while (left < right && nums[right] == nums[right - 1]) right--;
                    
                    left++;
                    right--;
                } else if (sum < 0) {
                    left++;
                } else {
                    right--;
                }
            }
        }
        return res;
    }
}
```

```go:Go
import (
    "sort"
)

func threeSum(nums []int) [][]int {
    sort.Ints(nums)
    var res [][]int
    n := len(nums)
    
    for i := 0; i < n-2; i++ {
        if nums[i] > 0 {
            break
        }
        if i > 0 && nums[i] == nums[i-1] {
            continue
        }
        
        left, right := i+1, n-1
        for left < right {
            sum := nums[i] + nums[left] + nums[right]
            if sum == 0 {
                res = append(res, []int{nums[i], nums[left], nums[right]})
                
                // å»é‡
                for left < right && nums[left] == nums[left+1] {
                    left++
                }
                for left < right && nums[right] == nums[right-1] {
                    right--
                }
                
                left++
                right--
            } else if sum < 0 {
                left++
            } else {
                right--
            }
        }
    }
    return res
}
```

</div>

______________________________________________________________________

## ğŸ¯ ç¤ºä¾‹æ¼”ç¤ºï¼ˆä»¥ `nums = [-1,0,1,2,-1,-4]` ä¸ºä¾‹ï¼‰

1. æ’åºåï¼š`[-4, -1, -1, 0, 1, 2]`
1. `i = 0`ï¼ˆ`-4`ï¼‰â†’ æœ€å°å€¼ `-4`ï¼Œæœ€å¤§å¯èƒ½å’Œ `-4 + 1 + 2 = -1 < 0` â†’ æ— è§£
1. `i = 1`ï¼ˆ`-1`ï¼‰ï¼š
   - `left=2`ï¼ˆ`-1`ï¼‰ï¼Œ`right=5`ï¼ˆ`2`ï¼‰â†’ `-1 + (-1) + 2 = 0` â†’ æ‰¾åˆ° `[-1,-1,2]`
   - ç§»åŠ¨æŒ‡é’ˆåï¼š`left=3`ï¼ˆ`0`ï¼‰ï¼Œ`right=4`ï¼ˆ`1`ï¼‰â†’ `-1 + 0 + 1 = 0` â†’ æ‰¾åˆ° `[-1,0,1]`
1. `i = 2`ï¼ˆ`-1`ï¼‰â†’ ä¸ `i=1` ç›¸åŒï¼Œè·³è¿‡ï¼ˆå»é‡ï¼‰
1. `i = 3`ï¼ˆ`0`ï¼‰â†’ `0 + 1 + 2 = 3 > 0`ï¼Œæ— è§£

âœ… æœ€ç»ˆç»“æœï¼š`[[-1,-1,2], [-1,0,1]]`

______________________________________________________________________

## âœ… ç­”æ¡ˆæœ‰æ•ˆæ€§è¯æ˜

### æ­£ç¡®æ€§ï¼š

- **å®Œå¤‡æ€§**ï¼šé€šè¿‡éå†æ‰€æœ‰å¯èƒ½çš„ `i`ï¼Œå¹¶åœ¨æ¯ä¸ª `i` ä¸‹ç”¨åŒæŒ‡é’ˆè¦†ç›–æ‰€æœ‰ `(left, right)` ç»„åˆï¼Œç¡®ä¿ä¸æ¼è§£ã€‚
- **æ— é‡å¤**ï¼š
  - å¤–å±‚ `i` è·³è¿‡ä¸å‰ä¸€ä¸ªç›¸åŒçš„å€¼ï¼›
  - å†…å±‚åœ¨æ‰¾åˆ°è§£åï¼Œ`left` å’Œ `right` åŒæ—¶è·³è¿‡é‡å¤å€¼ï¼›
  - ä¿è¯æ¯ä¸ªä¸‰å…ƒç»„ `(a, b, c)` æ»¡è¶³ `a â‰¤ b â‰¤ c` ä¸”å”¯ä¸€ã€‚

### è¾¹ç•Œå¤„ç†ï¼š

- æ•°ç»„é•¿åº¦ `< 3` â†’ è‡ªåŠ¨è¿”å›ç©ºï¼ˆå¾ªç¯ä¸æ‰§è¡Œï¼‰
- å…¨é›¶æ•°ç»„ â†’ æ­£ç¡®è¿”å› `[[0,0,0]]`
- æ— è§£æƒ…å†µ â†’ è¿”å›ç©ºåˆ—è¡¨

______________________________________________________________________

## ğŸ“Š å¤æ‚åº¦åˆ†æ

| é¡¹ç›® | åˆ†æ |
|------|------|
| **æ—¶é—´å¤æ‚åº¦** | `O(n log n) + O(nÂ²) = O(nÂ²)`<br>æ’åº `O(n log n)`ï¼Œå¤–å±‚å¾ªç¯ `O(n)`ï¼Œå†…å±‚åŒæŒ‡é’ˆ `O(n)` |
| **ç©ºé—´å¤æ‚åº¦** | `O(1)`ï¼ˆä¸è®¡è¾“å‡ºç©ºé—´ï¼‰<br>ä»…ä½¿ç”¨å¸¸æ•°é¢å¤–å˜é‡ï¼ˆGo/Java çš„æ’åºå¯èƒ½ç”¨ `O(log n)` æ ˆç©ºé—´ï¼‰ |

> ğŸ’¡ å®é™…è¿è¡Œæ•ˆç‡é«˜ï¼Œæ˜¯ LeetCode å®˜æ–¹æ¨èè§£æ³•ã€‚

______________________________________________________________________

## ğŸ“Œ é—®é¢˜æ€»ç»“

- **æ ¸å¿ƒæ€æƒ³**ï¼š**æ’åº + åŒæŒ‡é’ˆ + å»é‡**
- **å…³é”®æŠ€å·§**ï¼š
  - åˆ©ç”¨æ’åºå°†ä¸‰æ•°ä¹‹å’Œè½¬åŒ–ä¸ºâ€œä¸¤æ•°ä¹‹å’Œâ€é—®é¢˜ï¼›
  - é€šè¿‡è·³è¿‡é‡å¤å…ƒç´ é¿å…æ— æ•ˆè®¡ç®—å’Œé‡å¤ç­”æ¡ˆï¼›
  - æå‰ç»ˆæ­¢ï¼ˆ`nums[i] > 0` æ—¶ breakï¼‰ä¼˜åŒ–æ€§èƒ½ã€‚
- **é€‚ç”¨åœºæ™¯**ï¼šç±»ä¼¼â€œK æ•°ä¹‹å’Œâ€é—®é¢˜ï¼ˆå¦‚å››æ•°ä¹‹å’Œï¼‰å‡å¯å€Ÿé‰´æ­¤æ€è·¯ã€‚
- **æ˜“é”™ç‚¹**ï¼š
  - å¿˜è®°å»é‡å¯¼è‡´ç­”æ¡ˆé‡å¤ï¼›
  - æŒ‡é’ˆç§»åŠ¨é¡ºåºé”™è¯¯ï¼›
  - è¾¹ç•Œæ¡ä»¶ï¼ˆå¦‚æ•°ç»„é•¿åº¦ä¸è¶³ï¼‰æœªå¤„ç†ã€‚

