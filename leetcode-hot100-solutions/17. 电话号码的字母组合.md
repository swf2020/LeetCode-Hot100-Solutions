#  ç”µè¯å·ç çš„å­—æ¯ç»„åˆï¼ˆLeetCode 17ï¼‰

> ğŸ”— [LeetCode ä¸­æ–‡é“¾æ¥](https://leetcode.cn/problems/letter-combinations-of-a-phone-number?envType=problem-list-v2&envId=2cktkvj)

______________________________________________________________________

## ğŸ“Œ é—®é¢˜ç®€ä»‹

ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— `2-9` çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ã€‚

æ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚

```
2 -> "abc"
3 -> "def"
4 -> "ghi"
5 -> "jkl"
6 -> "mno"
7 -> "pqrs"
8 -> "tuv"
9 -> "wxyz"
```

### ğŸ“¥ è¾“å…¥è¾“å‡ºè¯´æ˜

- **è¾“å…¥**ï¼šå­—ç¬¦ä¸² `digits`ï¼ˆé•¿åº¦èŒƒå›´ï¼š0 â‰¤ digits.length â‰¤ 4ï¼ŒåªåŒ…å« '2' åˆ° '9'ï¼‰
- **è¾“å‡º**ï¼šæ‰€æœ‰å¯èƒ½çš„å­—æ¯ç»„åˆåˆ—è¡¨ï¼ˆList<String>ï¼‰

______________________________________________________________________

## ğŸ“‹ ç¤ºä¾‹è¯´æ˜

### ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šdigits = "23"
è¾“å‡ºï¼š["ad","ae","af","bd","be","bf","cd","ce","cf"]
```

### ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šdigits = ""
è¾“å‡ºï¼š[]
```

### ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šdigits = "2"
è¾“å‡ºï¼š["a","b","c"]
```

______________________________________________________________________

## ğŸ’¡ è§£é¢˜æ€è·¯

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ **å›æº¯ï¼ˆBacktrackingï¼‰** é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º **å¤šå‰æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDFSï¼‰**ã€‚

### âœ… æ€è·¯æ­¥éª¤ï¼ˆå›æº¯æ³•ï¼‰ï¼š

1. **å»ºç«‹æ˜ å°„è¡¨**ï¼šå°†æ•°å­—å­—ç¬¦æ˜ å°„åˆ°å¯¹åº”çš„å­—æ¯å­—ç¬¦ä¸²ï¼ˆå¦‚ `'2' â†’ "abc"`ï¼‰ã€‚
1. **è¾¹ç•Œå¤„ç†**ï¼šè‹¥è¾“å…¥ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œç›´æ¥è¿”å›ç©ºåˆ—è¡¨ã€‚
1. **é€’å½’å›æº¯**ï¼š
   - ä½¿ç”¨ä¸€ä¸ª `path` å­—ç¬¦ä¸²è®°å½•å½“å‰ç»„åˆï¼›
   - æ¯æ¬¡ä» `digits` çš„ç¬¬ `index` ä½å¼€å§‹ï¼Œå–å‡ºå¯¹åº”æ•°å­—çš„å­—æ¯é›†åˆï¼›
   - éå†è¯¥é›†åˆä¸­çš„æ¯ä¸ªå­—æ¯ï¼ŒåŠ å…¥ `path`ï¼›
   - é€’å½’å¤„ç†ä¸‹ä¸€ä½æ•°å­—ï¼›
   - å›æº¯æ—¶ç§»é™¤åˆšåŠ å…¥çš„å­—æ¯ï¼ˆæˆ–ä½¿ç”¨ä¸å¯å˜å­—ç¬¦ä¸²é¿å…æ˜¾å¼å›æº¯ï¼‰ã€‚
1. **ç»ˆæ­¢æ¡ä»¶**ï¼šå½“ `index == digits.length()` æ—¶ï¼Œè¯´æ˜å·²é€‰å®Œæ‰€æœ‰æ•°å­—ï¼Œå°† `path` åŠ å…¥ç»“æœé›†ã€‚

### ğŸ” å…¶ä»–è§£æ³•ï¼ˆå¯é€‰ï¼‰ï¼š

- **BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰**ï¼šé€å±‚æ‰©å±•ç»„åˆï¼Œç”¨é˜Ÿåˆ—ç»´æŠ¤ä¸­é—´ç»“æœã€‚
- **è¿­ä»£æ³•**ï¼šä»ç©ºå­—ç¬¦ä¸²å¼€å§‹ï¼Œæ¯æ¬¡å¯¹å·²æœ‰ç»“æœæ‹¼æ¥æ–°å­—æ¯ã€‚

> âš ï¸ ä½†å›æº¯æ³•æœ€ç›´è§‚ã€ç®€æ´ï¼Œä¸”ç©ºé—´æ•ˆç‡é«˜ï¼ˆæ— éœ€å­˜å‚¨ä¸­é—´å¤§é‡ç»„åˆï¼‰ï¼Œæ˜¯é¦–é€‰ã€‚

______________________________________________________________________

## ğŸ’» ä»£ç å®ç°

// Java å®ç°ï¼ˆå›æº¯ï¼‰
```java
class Solution {
    private static final Map<Character, String> phoneMap = new HashMap<Character, String>() {{
        put('2', "abc");
        put('3', "def");
        put('4', "ghi");
        put('5', "jkl");
        put('6', "mno");
        put('7', "pqrs");
        put('8', "tuv");
        put('9', "wxyz");
    }};

    public List<String> letterCombinations(String digits) {
        List<String> result = new ArrayList<>();
        if (digits == null || digits.length() == 0) {
            return result;
        }
        backtrack(result, new StringBuilder(), digits, 0);
        return result;
    }

    private void backtrack(List<String> result, StringBuilder path, String digits, int index) {
        // ç»ˆæ­¢æ¡ä»¶
        if (index == digits.length()) {
            result.add(path.toString());
            return;
        }

        char digit = digits.charAt(index);
        String letters = phoneMap.get(digit);

        for (char letter : letters.toCharArray()) {
            path.append(letter);               // åšé€‰æ‹©
            backtrack(result, path, digits, index + 1); // é€’å½’
            path.deleteCharAt(path.length() - 1); // æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰
        }
    }
}
```

// Go å®ç°ï¼ˆå›æº¯ï¼‰
```go
func letterCombinations(digits string) []string {
	if len(digits) == 0 {
		return []string{}
	}

	phoneMap := map[byte]string{
		'2': "abc",
		'3': "def",
		'4': "ghi",
		'5': "jkl",
		'6': "mno",
		'7': "pqrs",
		'8': "tuv",
		'9': "wxyz",
	}

	var result []string
	var backtrack func(path string, index int)
	backtrack = func(path string, index int) {
		if index == len(digits) {
			result = append(result, path)
			return
		}

		letters := phoneMap[digits[index]]
		for i := 0; i < len(letters); i++ {
			backtrack(path+string(letters[i]), index+1)
		}
	}

	backtrack("", 0)
	return result
}
```

> ğŸ’¡ Go ç‰ˆæœ¬åˆ©ç”¨å­—ç¬¦ä¸²ä¸å¯å˜æ€§ï¼Œç›´æ¥ä¼ æ–°å­—ç¬¦ä¸²ï¼Œæ— éœ€æ˜¾å¼å›æº¯ã€‚

______________________________________________________________________

## ğŸ§ª ç¤ºä¾‹æ¼”ç¤º

ä»¥ `digits = "23"` ä¸ºä¾‹ï¼š

```
åˆå§‹: path = "", index = 0
â”œâ”€ é€‰ 'a' â†’ path="a", index=1
â”‚   â”œâ”€ é€‰ 'd' â†’ path="ad" â†’ index=2 â†’ åŠ å…¥ç»“æœ
â”‚   â”œâ”€ é€‰ 'e' â†’ path="ae" â†’ åŠ å…¥ç»“æœ
â”‚   â””â”€ é€‰ 'f' â†’ path="af" â†’ åŠ å…¥ç»“æœ
â”œâ”€ é€‰ 'b' â†’ path="b", index=1
â”‚   â”œâ”€ 'd' â†’ "bd"
â”‚   â”œâ”€ 'e' â†’ "be"
â”‚   â””â”€ 'f' â†’ "bf"
â””â”€ é€‰ 'c' â†’ path="c", index=1
    â”œâ”€ 'd' â†’ "cd"
    â”œâ”€ 'e' â†’ "ce"
    â””â”€ 'f' â†’ "cf"
```

æœ€ç»ˆç»“æœï¼š`["ad","ae","af","bd","be","bf","cd","ce","cf"]`

______________________________________________________________________

## âœ… ç­”æ¡ˆæœ‰æ•ˆæ€§è¯æ˜

- **å®Œå¤‡æ€§**ï¼šå›æº¯éå†äº†æ¯ä¸€ä½æ•°å­—å¯¹åº”çš„æ‰€æœ‰å­—æ¯ï¼Œä¸”ç»„åˆé•¿åº¦ç­‰äºè¾“å…¥é•¿åº¦ï¼Œæ— é—æ¼ã€‚
- **æ— é‡å¤**ï¼šæ¯æ¡è·¯å¾„å”¯ä¸€ï¼Œä¸”ä¸é‡å¤è®¿é—®åŒä¸€ä½ç½®çš„ä¸åŒå­—æ¯ï¼ˆé¡ºåºå›ºå®šï¼‰ã€‚
- **è¾¹ç•Œæ­£ç¡®**ï¼š
  - ç©ºè¾“å…¥ â†’ è¿”å›ç©ºåˆ—è¡¨ï¼ˆç¬¦åˆç¤ºä¾‹2ï¼‰ï¼›
  - å•æ•°å­— â†’ è¿”å›å…¶æ‰€æœ‰å­—æ¯ï¼ˆç¬¦åˆç¤ºä¾‹3ï¼‰ã€‚

å› æ­¤ï¼Œç®—æ³•æ­£ç¡®ã€‚

______________________________________________________________________

## ğŸ“Š å¤æ‚åº¦åˆ†æ

| é¡¹ç›® | åˆ†æ |
|------|------|
| **æ—¶é—´å¤æ‚åº¦** | $O(3^m \\times 4^n)$ï¼Œå…¶ä¸­ `m` æ˜¯å¯¹åº” 3 ä¸ªå­—æ¯çš„æ•°å­—ä¸ªæ•°ï¼ˆ2,3,4,5,6,8ï¼‰ï¼Œ`n` æ˜¯å¯¹åº” 4 ä¸ªå­—æ¯çš„æ•°å­—ä¸ªæ•°ï¼ˆ7,9ï¼‰ã€‚æœ€åæƒ…å†µæ¯ä½éƒ½æ˜¯ 7 æˆ– 9ï¼Œå³ $O(4^k)$ï¼Œ`k` ä¸º `digits` é•¿åº¦ï¼ˆâ‰¤4ï¼‰ |
| **ç©ºé—´å¤æ‚åº¦** | $O(k)$ï¼Œé€’å½’æ ˆæ·±åº¦ä¸º `k`ï¼ˆä¸è®¡ç»“æœå­˜å‚¨ç©ºé—´ï¼‰ï¼›è‹¥è®¡å…¥ç»“æœï¼Œåˆ™ä¸º $O(3^m \\times 4^n \\times k)$ |

> ğŸ’¡ ç”±äº `k â‰¤ 4`ï¼Œå®é™…è¿è¡Œéå¸¸å¿«ã€‚

______________________________________________________________________

## ğŸ“Œ é—®é¢˜æ€»ç»“

- **æ ¸å¿ƒæ€æƒ³**ï¼šå›æº¯ï¼ˆDFSï¼‰ç”Ÿæˆæ‰€æœ‰ç»„åˆã€‚
- **å…³é”®æŠ€å·§**ï¼š
  - å»ºç«‹æ•°å­—åˆ°å­—æ¯çš„æ˜ å°„ï¼›
  - é€’å½’ + å›æº¯æ§åˆ¶è·¯å¾„ï¼›
  - æ³¨æ„ç©ºè¾“å…¥è¾¹ç•Œã€‚
- **é€‚ç”¨åœºæ™¯**ï¼šç»„åˆã€æ’åˆ—ã€å­é›†ç±»é—®é¢˜ã€‚
- **å»¶ä¼¸æ€è€ƒ**ï¼šè‹¥å…è®¸é‡å¤æ•°å­—æˆ–æ›´é•¿è¾“å…¥ï¼Œéœ€è€ƒè™‘å‰ªææˆ–è®°å¿†åŒ–ï¼Œä½†æœ¬é¢˜è§„æ¨¡å°ï¼Œæ— éœ€ä¼˜åŒ–ã€‚

> âœ… æŒæ¡æ­¤é¢˜ï¼Œå°±æŒæ¡äº†å›æº¯ç®—æ³•çš„ç»å…¸æ¨¡æ¿ï¼
