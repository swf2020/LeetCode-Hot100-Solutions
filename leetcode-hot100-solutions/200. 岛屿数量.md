# 200. å²›å±¿æ•°é‡

ğŸ”— [LeetCode ä¸­æ–‡é“¾æ¥](https://leetcode.cn/problems/number-of-islands?envType=problem-list-v2&envId=2cktkvj)

## ğŸ“Œ é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªç”± `'1'`ï¼ˆé™†åœ°ï¼‰å’Œ `'0'`ï¼ˆæ°´ï¼‰ç»„æˆçš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚

å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚

______________________________________________________________________

## âœ… ç¤ºä¾‹è¯´æ˜

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šgrid = [
  ["1","1","1","1","0"],
  ["1","1","0","1","0"],
  ["1","1","0","0","0"],
  ["0","0","0","0","0"]
]
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šgrid = [
  ["1","1","0","0","0"],
  ["1","1","0","0","0"],
  ["0","0","1","0","0"],
  ["0","0","0","1","1"]
]
è¾“å‡ºï¼š3
```

______________________________________________________________________

## ğŸ’¡ è§£é¢˜æ€è·¯

æœ¬é¢˜æœ¬è´¨ä¸Šæ˜¯æ±‚ **è¿é€šåˆ†é‡çš„æ•°é‡**ï¼Œå…¶ä¸­æ¯ä¸ªè¿é€šåˆ†é‡ç”±ç›¸é‚»çš„ `'1'` æ„æˆã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§ä¸»æµæ–¹æ³•ï¼š

### æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰

1. éå†æ•´ä¸ªäºŒç»´ç½‘æ ¼ã€‚
1. å½“é‡åˆ° `'1'` æ—¶ï¼Œè¯´æ˜å‘ç°äº†ä¸€ä¸ªæ–°å²›å±¿ï¼Œå²›å±¿æ•°é‡ +1ã€‚
1. ä½¿ç”¨ DFS å°†è¯¥å²›å±¿æ‰€æœ‰ç›¸è¿çš„ `'1'` æ ‡è®°ä¸º `'0'`ï¼ˆå³â€œæ·¹æ²¡â€è¯¥å²›ï¼‰ï¼Œé˜²æ­¢é‡å¤è®¡æ•°ã€‚
1. ç»§ç»­éå†ç›´åˆ°ç»“æŸã€‚

âœ… **ä¼˜ç‚¹**ï¼šä»£ç ç®€æ´ï¼Œé€»è¾‘æ¸…æ™°ã€‚\
âŒ **ç¼ºç‚¹**ï¼šé€’å½’å¯èƒ½å¯¼è‡´æ ˆæº¢å‡ºï¼ˆä½†åœ¨ LeetCode æ•°æ®è§„æ¨¡ä¸‹é€šå¸¸ä¸ä¼šï¼‰ã€‚

______________________________________________________________________

### æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰

1. éå†ç½‘æ ¼ã€‚
1. é‡åˆ° `'1'` æ—¶ï¼Œå²›å±¿æ•° +1ï¼Œå¹¶å¯åŠ¨ BFSã€‚
1. ä½¿ç”¨é˜Ÿåˆ—å°†å½“å‰å²›å±¿æ‰€æœ‰ç›¸è¿çš„ `'1'` å…¥é˜Ÿï¼Œå¹¶åœ¨è®¿é—®åç½®ä¸º `'0'`ã€‚
1. ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œè¡¨ç¤ºè¯¥å²›å±¿å·²å®Œå…¨éå†ã€‚

âœ… **ä¼˜ç‚¹**ï¼šé¿å…é€’å½’ï¼Œé€‚åˆå¤§è§„æ¨¡æ•°æ®ã€‚\
âŒ **ç¼ºç‚¹**ï¼šéœ€è¦é¢å¤–é˜Ÿåˆ—ç©ºé—´ã€‚

______________________________________________________________________

### æ–¹æ³•ä¸‰ï¼šå¹¶æŸ¥é›†ï¼ˆUnion-Findï¼‰

1. å°†æ¯ä¸ª `'1'` è§†ä¸ºä¸€ä¸ªç‹¬ç«‹èŠ‚ç‚¹ã€‚
1. éå†ç½‘æ ¼ï¼Œå¯¹æ¯ä¸ª `'1'`ï¼Œæ£€æŸ¥å…¶å³æ–¹å’Œä¸‹æ–¹æ˜¯å¦ä¹Ÿæ˜¯ `'1'`ï¼Œè‹¥æ˜¯ï¼Œåˆ™åˆå¹¶ã€‚
1. æœ€ç»ˆç»Ÿè®¡å¹¶æŸ¥é›†ä¸­è¿é€šåˆ†é‡çš„æ•°é‡ã€‚

âœ… **ä¼˜ç‚¹**ï¼šé€‚åˆåŠ¨æ€è¿é€šæ€§é—®é¢˜ã€‚\
âŒ **ç¼ºç‚¹**ï¼šå®ç°è¾ƒå¤æ‚ï¼Œæœ¬é¢˜ä¸­ä¸å¦‚ DFS/BFS ç›´è§‚é«˜æ•ˆã€‚

> ğŸ“Œ **æ¨èè§£æ³•**ï¼šDFS æˆ– BFSã€‚æœ¬é¢˜é‡‡ç”¨ DFS å®ç°æ›´ç®€æ´ã€‚

______________________________________________________________________

## ğŸ’» ä»£ç å®ç°

<div class="code-tabs">

```java
class Solution {
    public int numIslands(char[][] grid) {
        if (grid == null || grid.length == 0) return 0;
        int m = grid.length, n = grid[0].length;
        int count = 0;
        
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (grid[i][j] == '1') {
                    count++;
                    dfs(grid, i, j);
                }
            }
        }
        return count;
    }
    
    private void dfs(char[][] grid, int i, int j) {
        int m = grid.length, n = grid[0].length;
        // è¾¹ç•Œæ£€æŸ¥æˆ–å·²è®¿é—®ï¼ˆæ°´ï¼‰
        if (i < 0 || i >= m || j < 0 || j >= n || grid[i][j] == '0') {
            return;
        }
        // æ ‡è®°ä¸ºå·²è®¿é—®ï¼ˆå˜ä¸ºæ°´ï¼‰
        grid[i][j] = '0';
        // å››æ–¹å‘é€’å½’
        dfs(grid, i + 1, j);
        dfs(grid, i - 1, j);
        dfs(grid, i, j + 1);
        dfs(grid, i, j - 1);
    }
}
```

```go 
func numIslands(grid [][]byte) int {
    if len(grid) == 0 || len(grid[0]) == 0 {
        return 0
    }
    m, n := len(grid), len(grid[0])
    count := 0

    var dfs func(i, j int)
    dfs = func(i, j int) {
        if i < 0 || i >= m || j < 0 || j >= n || grid[i][j] == '0' {
            return
        }
        grid[i][j] = '0'
        dfs(i+1, j)
        dfs(i-1, j)
        dfs(i, j+1)
        dfs(i, j-1)
    }

    for i := 0; i < m; i++ {
        for j := 0; j < n; j++ {
            if grid[i][j] == '1' {
                count++
                dfs(i, j)
            }
        }
    }
    return count
}
```

</div>

______________________________________________________________________

## ğŸ” ç¤ºä¾‹æ¼”ç¤º

ä»¥ç¤ºä¾‹ 2 ä¸ºä¾‹ï¼š

```
åˆå§‹ç½‘æ ¼ï¼š
1 1 0 0 0
1 1 0 0 0
0 0 1 0 0
0 0 0 1 1
```

- åœ¨ (0,0) å‘ç° `'1'` â†’ å²›å±¿1ï¼ŒDFS æ·¹æ²¡å·¦ä¸Šè§’ 2x2 åŒºåŸŸã€‚
- åœ¨ (2,2) å‘ç° `'1'` â†’ å²›å±¿2ï¼ŒDFS æ·¹æ²¡å•ç‚¹ã€‚
- åœ¨ (3,3) å‘ç° `'1'` â†’ å²›å±¿3ï¼ŒDFS æ·¹æ²¡å³ä¸‹è§’ä¸¤ä¸ªç‚¹ã€‚

æœ€ç»ˆè¿”å› `3` âœ…

______________________________________________________________________

## âœ… ç­”æ¡ˆæœ‰æ•ˆæ€§è¯æ˜

- **æ­£ç¡®æ€§**ï¼šæ¯æ¬¡é‡åˆ°æœªè®¿é—®çš„ `'1'` å¿…å®šå±äºä¸€ä¸ªæ–°å²›å±¿ï¼ˆå› ä¸ºä¹‹å‰çš„ DFS/BFS å·²æ¸…é™¤æ‰€æœ‰å·²è®¿é—®å²›å±¿ï¼‰ã€‚
- **å®Œæ•´æ€§**ï¼šéå†æ‰€æœ‰æ ¼å­ï¼Œç¡®ä¿ä¸é—æ¼ä»»ä½•å²›å±¿ã€‚
- **ç»ˆæ­¢æ€§**ï¼šDFS/BFS åœ¨æœ‰é™ç½‘æ ¼ä¸­å¿…ç„¶ç»ˆæ­¢ï¼ˆæ¯æ¬¡é€’å½’/å…¥é˜Ÿéƒ½ç¼©å°é—®é¢˜è§„æ¨¡ï¼‰ã€‚

å› æ­¤ï¼Œç®—æ³•èƒ½æ­£ç¡®ç»Ÿè®¡æ‰€æœ‰è¿é€šçš„ `'1'` åŒºåŸŸæ•°é‡ã€‚

______________________________________________________________________

## ğŸ“Š å¤æ‚åº¦åˆ†æ

| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | è¯´æ˜ |
|------|------------|------------|------|
| DFS | $O(M \\times N)$ | $O(M \\times N)$ | æœ€åæƒ…å†µé€’å½’æ·±åº¦ä¸º $M \\times N$ï¼ˆå…¨ä¸º1ï¼‰ |
| BFS | $O(M \\times N)$ | $O(\\min(M, N))$ | é˜Ÿåˆ—æœ€å¤§å­˜å‚¨ä¸ºå¯¹è§’çº¿é•¿åº¦ |
| å¹¶æŸ¥é›† | $O(M \\times N \\cdot \\alpha(MN))$ | $O(M \\times N)$ | $\\alpha$ ä¸ºé˜¿å…‹æ›¼åå‡½æ•°ï¼Œâ‰ˆå¸¸æ•° |

> å…¶ä¸­ $M$ ä¸ºè¡Œæ•°ï¼Œ$N$ ä¸ºåˆ—æ•°ã€‚

______________________________________________________________________

## ğŸ§  é—®é¢˜æ€»ç»“

- âŒ **å¸¸è§é”™è¯¯**ï¼šå¿˜è®°å°†è®¿é—®è¿‡çš„ `'1'` ç½®ä¸º `'0'`ï¼Œå¯¼è‡´é‡å¤è®¡æ•°ã€‚
- âœ… **å…³é”®æ€æƒ³**ï¼š**è¿é€šåˆ†é‡è®¡æ•°** + **å›¾éå†ï¼ˆDFS/BFSï¼‰**ã€‚
- ğŸ’¡ **æ‰©å±•æ€è€ƒ**ï¼š
  - è‹¥å²›å±¿å¯æ–œå‘è¿æ¥ï¼Ÿâ†’ ä¿®æ”¹ DFS æ–¹å‘ä¸º 8 ä¸ªã€‚
  - è‹¥éœ€è¿”å›æœ€å¤§å²›å±¿é¢ç§¯ï¼Ÿâ†’ åœ¨ DFS ä¸­ç´¯åŠ é¢ç§¯ã€‚
  - åŠ¨æ€æ·»åŠ é™†åœ°ï¼Ÿâ†’ è€ƒè™‘å¹¶æŸ¥é›†ã€‚

æœ¬é¢˜æ˜¯ **å›¾è®ºåŸºç¡€é¢˜**ï¼ŒæŒæ¡åå¯è½»æ¾åº”å¯¹ç±»ä¼¼â€œåŒºåŸŸæŸ“è‰²â€ã€â€œè¿é€šå—ç»Ÿè®¡â€ç­‰é—®é¢˜ã€‚
