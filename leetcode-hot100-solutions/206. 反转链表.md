# âŒ|âœ…|ğŸ’¡|ğŸ“Œ 206. åè½¬é“¾è¡¨

## ğŸ”— é—®é¢˜ç®€ä»‹

[LeetCode 206. åè½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-linked-list?envType=problem-list-v2&envId=2cktkvj)

### é¢˜ç›®æè¿°

ç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ `head`ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚

## ğŸ“Œ ç¤ºä¾‹è¯´æ˜

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šhead = [1,2,3,4,5]
è¾“å‡ºï¼š[5,4,3,2,1]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šhead = [1,2]
è¾“å‡ºï¼š[2,1]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šhead = []
è¾“å‡ºï¼š[]
```

## ğŸ’¡ è§£é¢˜æ€è·¯

### æ–¹æ³•ä¸€ï¼šè¿­ä»£æ³•ï¼ˆåŒæŒ‡é’ˆï¼‰

è¿™æ˜¯æœ€ç›´è§‚çš„æ–¹æ³•ï¼Œé€šè¿‡ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆæ¥é€æ­¥åè½¬é“¾è¡¨ï¼š

1. åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆï¼š`prev = null`ï¼ˆå‰ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œ`curr = head`ï¼ˆå½“å‰èŠ‚ç‚¹ï¼‰
1. éå†é“¾è¡¨ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼š
   - ä¿å­˜å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ `next = curr.next`
   - å°†å½“å‰èŠ‚ç‚¹çš„ `next` æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ `curr.next = prev`
   - ç§»åŠ¨æŒ‡é’ˆï¼š`prev = curr`ï¼Œ`curr = next`
1. å½“ `curr` ä¸º `null` æ—¶ï¼Œ`prev` å°±æ˜¯æ–°çš„å¤´èŠ‚ç‚¹

### æ–¹æ³•äºŒï¼šé€’å½’æ³•

é€’å½’çš„æ€æƒ³æ˜¯ï¼šå…ˆåè½¬åé¢çš„é“¾è¡¨ï¼Œå†å¤„ç†å½“å‰èŠ‚ç‚¹ï¼š

1. åŸºç¡€æƒ…å†µï¼šå¦‚æœ `head` ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› `head`
1. é€’å½’è°ƒç”¨ï¼š`newHead = reverseList(head.next)`
1. åè½¬å½“å‰è¿æ¥ï¼š`head.next.next = head`
1. æ–­å¼€åŸè¿æ¥ï¼š`head.next = null`
1. è¿”å›æ–°çš„å¤´èŠ‚ç‚¹ `newHead`

### æ–¹æ³•ä¸‰ï¼šå¤´æ’æ³•

è¿™ç§æ–¹æ³•æ¨¡æ‹Ÿåœ¨æ–°é“¾è¡¨å¤´éƒ¨ä¸æ–­æ’å…¥èŠ‚ç‚¹ï¼š

1. åˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿå¤´èŠ‚ç‚¹
1. éå†åŸé“¾è¡¨ï¼Œå°†æ¯ä¸ªèŠ‚ç‚¹æ’å…¥åˆ°æ–°é“¾è¡¨çš„å¤´éƒ¨
1. è¿”å›æ–°é“¾è¡¨çš„å®é™…å¤´èŠ‚ç‚¹

## ğŸ’» ä»£ç å®ç°

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */

// æ–¹æ³•ä¸€ï¼šè¿­ä»£æ³•ï¼ˆåŒæŒ‡é’ˆï¼‰
class Solution {
    public ListNode reverseList(ListNode head) {
        ListNode prev = null;
        ListNode curr = head;
        
        while (curr != null) {
            ListNode next = curr.next;  // ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
            curr.next = prev;           // åè½¬å½“å‰èŠ‚ç‚¹çš„æŒ‡é’ˆ
            prev = curr;                // ç§»åŠ¨prevæŒ‡é’ˆ
            curr = next;                // ç§»åŠ¨curræŒ‡é’ˆ
        }
        
        return prev;  // prevå°±æ˜¯æ–°çš„å¤´èŠ‚ç‚¹
    }
}

// æ–¹æ³•äºŒï¼šé€’å½’æ³•
class Solution {
    public ListNode reverseList(ListNode head) {
        // åŸºç¡€æƒ…å†µ
        if (head == null || head.next == null) {
            return head;
        }
        
        // é€’å½’åè½¬åé¢çš„é“¾è¡¨
        ListNode newHead = reverseList(head.next);
        
        // åè½¬å½“å‰è¿æ¥
        head.next.next = head;
        head.next = null;
        
        return newHead;
    }
}
```

```go
/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */

// æ–¹æ³•ä¸€ï¼šè¿­ä»£æ³•ï¼ˆåŒæŒ‡é’ˆï¼‰
func reverseList(head *ListNode) *ListNode {
    var prev *ListNode = nil
    curr := head
    
    for curr != nil {
        next := curr.Next  // ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        curr.Next = prev   // åè½¬å½“å‰èŠ‚ç‚¹çš„æŒ‡é’ˆ
        prev = curr        // ç§»åŠ¨prevæŒ‡é’ˆ
        curr = next        // ç§»åŠ¨curræŒ‡é’ˆ
    }
    
    return prev  // prevå°±æ˜¯æ–°çš„å¤´èŠ‚ç‚¹
}

// æ–¹æ³•äºŒï¼šé€’å½’æ³•
func reverseList(head *ListNode) *ListNode {
    // åŸºç¡€æƒ…å†µ
    if head == nil || head.Next == nil {
        return head
    }
    
    // é€’å½’åè½¬åé¢çš„é“¾è¡¨
    newHead := reverseList(head.Next)
    
    // åè½¬å½“å‰è¿æ¥
    head.Next.Next = head
    head.Next = nil
    
    return newHead
}
```

## ğŸ¯ ç¤ºä¾‹æ¼”ç¤º

ä»¥ç¤ºä¾‹1 `[1,2,3,4,5]` ä¸ºä¾‹ï¼Œå±•ç¤ºè¿­ä»£æ³•çš„è¿‡ç¨‹ï¼š

| æ­¥éª¤ | prev | curr | next | æ“ä½œ |
|------|------|------|------|------|
| åˆå§‹ | null | 1â†’2â†’3â†’4â†’5 | - | - |
| 1 | null | 1â†’2â†’3â†’4â†’5 | 2â†’3â†’4â†’5 | 1â†’null |
| 2 | 1â†’null | 2â†’3â†’4â†’5 | 3â†’4â†’5 | 2â†’1â†’null |
| 3 | 2â†’1â†’null | 3â†’4â†’5 | 4â†’5 | 3â†’2â†’1â†’null |
| 4 | 3â†’2â†’1â†’null | 4â†’5 | 5 | 4â†’3â†’2â†’1â†’null |
| 5 | 4â†’3â†’2â†’1â†’null | 5 | null | 5â†’4â†’3â†’2â†’1â†’null |
| ç»“æŸ | 5â†’4â†’3â†’2â†’1â†’null | null | - | è¿”å›prev |

## âœ… ç­”æ¡ˆæœ‰æ•ˆæ€§è¯æ˜

**æ­£ç¡®æ€§è¯æ˜ï¼š**

1. **è¿­ä»£æ³•**ï¼š

   - å¾ªç¯ä¸å˜å¼ï¼šåœ¨æ¯æ¬¡å¾ªç¯å¼€å§‹æ—¶ï¼Œ`prev` æŒ‡å‘å·²ç»åè½¬çš„éƒ¨åˆ†çš„å¤´èŠ‚ç‚¹ï¼Œ`curr` æŒ‡å‘æœªåè½¬éƒ¨åˆ†çš„å¤´èŠ‚ç‚¹
   - æ¯æ¬¡å¾ªç¯éƒ½å°† `curr` èŠ‚ç‚¹æ·»åŠ åˆ°å·²åè½¬éƒ¨åˆ†çš„å¼€å¤´
   - å½“ `curr` ä¸º `null` æ—¶ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½å·²åè½¬ï¼Œ`prev` æŒ‡å‘æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹

1. **é€’å½’æ³•**ï¼š

   - åŸºç¡€æƒ…å†µæ­£ç¡®ï¼šç©ºé“¾è¡¨æˆ–å•èŠ‚ç‚¹é“¾è¡¨åè½¬åä¸å˜
   - é€’å½’å‡è®¾ï¼šå‡è®¾ `reverseList(head.next)` èƒ½æ­£ç¡®åè½¬ä» `head.next` å¼€å§‹çš„å­é“¾è¡¨
   - å½’çº³æ­¥éª¤ï¼šå°† `head` èŠ‚ç‚¹è¿æ¥åˆ°åè½¬åå­é“¾è¡¨çš„æœ«å°¾ï¼Œå½¢æˆå®Œæ•´çš„åè½¬é“¾è¡¨

**è¾¹ç•Œæƒ…å†µå¤„ç†ï¼š**

- ç©ºé“¾è¡¨ï¼šç›´æ¥è¿”å› `null`
- å•èŠ‚ç‚¹é“¾è¡¨ï¼šç›´æ¥è¿”å›è¯¥èŠ‚ç‚¹
- ä¸¤èŠ‚ç‚¹é“¾è¡¨ï¼šæ­£ç¡®äº¤æ¢ä¸¤ä¸ªèŠ‚ç‚¹çš„è¿æ¥å…³ç³»

## ğŸ“Š å¤æ‚åº¦åˆ†æ

| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | ä¼˜ç¼ºç‚¹ |
|------|------------|------------|--------|
| è¿­ä»£æ³• | O(n) | O(1) | âœ… ç©ºé—´æ•ˆç‡é«˜ï¼Œæ¨èä½¿ç”¨ |
| é€’å½’æ³• | O(n) | O(n) | âš ï¸ é€’å½’æ·±åº¦ä¸ºnï¼Œå¯èƒ½æ ˆæº¢å‡º |
| å¤´æ’æ³• | O(n) | O(1) | âœ… æ€è·¯ç›´è§‚ï¼Œä½†éœ€è¦é¢å¤–æ“ä½œ |

å…¶ä¸­ `n` æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚

## ğŸ“ é—®é¢˜æ€»ç»“

åè½¬é“¾è¡¨æ˜¯é“¾è¡¨æ“ä½œçš„åŸºç¡€é¢˜ç›®ï¼ŒæŒæ¡å®ƒå¯¹ç†è§£æ›´å¤æ‚çš„é“¾è¡¨é—®é¢˜è‡³å…³é‡è¦ã€‚

**å…³é”®è¦ç‚¹ï¼š**

- ğŸ”‘ **è¿­ä»£æ³•**æ˜¯æœ€ä¼˜è§£ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(1)
- ğŸ”‘ **é€’å½’æ³•**ä»£ç ç®€æ´ï¼Œä½†è¦æ³¨æ„æ ˆç©ºé—´çš„ä½¿ç”¨
- ğŸ”‘ æ ¸å¿ƒæ€æƒ³æ˜¯æ”¹å˜èŠ‚ç‚¹çš„ `next` æŒ‡é’ˆæ–¹å‘
- ğŸ”‘ å¤„ç†é“¾è¡¨é—®é¢˜æ—¶ï¼Œç”»å›¾è¾…åŠ©ç†è§£éå¸¸é‡è¦

**å¸¸è§é”™è¯¯ï¼š**

- âŒ å¿˜è®°ä¿å­˜ `next` èŠ‚ç‚¹ï¼Œå¯¼è‡´é“¾è¡¨æ–­è£‚
- âŒ åœ¨é€’å½’æ³•ä¸­å¿˜è®°è®¾ç½® `head.next = null`ï¼Œé€ æˆç¯å½¢é“¾è¡¨
- âŒ è¾¹ç•Œæ¡ä»¶å¤„ç†ä¸å®Œæ•´

è¿™ä¸ªé—®é¢˜è™½ç„¶ç®€å•ï¼Œä½†æ˜¯é“¾è¡¨æ“ä½œçš„ç»å…¸èŒƒä¾‹ï¼Œå»ºè®®ç†Ÿç»ƒæŒæ¡ä¸¤ç§è§£æ³•ã€‚
