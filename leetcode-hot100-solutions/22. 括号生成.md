# LeetCode 22.æ‹¬å·ç”Ÿæˆ

## é—®é¢˜ç®€ä»‹
[LeetCode 22. æ‹¬å·ç”Ÿæˆ](https://leetcode.cn/problems/generate-parentheses?envType=problem-list-v2&envId=2cktkvj)

## é¢˜ç›®æè¿°

æ•°å­— `n` ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” **æœ‰æ•ˆçš„** æ‹¬å·ç»„åˆã€‚

______________________________________________________________________

# ğŸ“Œ ç¤ºä¾‹è¯´æ˜

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š["((()))","(()())","(())()","()(())","()()()"]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š["()"]
```

______________________________________________________________________

# ğŸ’¡ è§£é¢˜æ€è·¯

æœ¬é¢˜è¦æ±‚ç”Ÿæˆæ‰€æœ‰åˆæ³•çš„æ‹¬å·ç»„åˆã€‚å…³é”®åœ¨äºç†è§£â€œåˆæ³•â€çš„å®šä¹‰ï¼š

- ä»»æ„å‰ç¼€ä¸­å·¦æ‹¬å·æ•°é‡ â‰¥ å³æ‹¬å·æ•°é‡ï¼›
- æ€»å…±å·¦æ‹¬å·æ•°é‡ = å³æ‹¬å·æ•°é‡ = nã€‚

### æ–¹æ³•ä¸€ï¼šå›æº¯æ³•ï¼ˆæ¨èï¼‰

è¿™æ˜¯æœ€ç›´è§‚ä¸”é«˜æ•ˆçš„æ–¹æ³•ã€‚

#### æ­¥éª¤å¦‚ä¸‹ï¼š

1. ä½¿ç”¨é€’å½’æ„å»ºå­—ç¬¦ä¸²ã€‚
1. ç»´æŠ¤ä¸¤ä¸ªè®¡æ•°å™¨ï¼š`left`ï¼ˆå·²ä½¿ç”¨çš„å·¦æ‹¬å·æ•°ï¼‰ã€`right`ï¼ˆå·²ä½¿ç”¨çš„å³æ‹¬å·æ•°ï¼‰ã€‚
1. åœ¨æ¯ä¸€æ­¥ï¼š
   - å¦‚æœ `left < n`ï¼Œå¯ä»¥æ·»åŠ  `'('`ï¼›
   - å¦‚æœ `right < left`ï¼Œå¯ä»¥æ·»åŠ  `')'`ï¼ˆä¿è¯ä¸ä¼šå‡ºç°éæ³•å³æ‹¬å·ï¼‰ã€‚
1. å½“å­—ç¬¦ä¸²é•¿åº¦ä¸º `2n` æ—¶ï¼ŒåŠ å…¥ç»“æœé›†ã€‚

> âœ… è¯¥æ–¹æ³•å¤©ç„¶é¿å…äº†æ— æ•ˆç»„åˆï¼Œæ— éœ€å‰ªææˆ–åéªŒæ£€æŸ¥ã€‚

______________________________________________________________________

### æ–¹æ³•äºŒï¼šæš´åŠ›ç”Ÿæˆ + æœ‰æ•ˆæ€§éªŒè¯ï¼ˆä¸æ¨èï¼‰

1. ç”Ÿæˆæ‰€æœ‰é•¿åº¦ä¸º `2n` çš„ç”± `'('` å’Œ `')'` æ„æˆçš„å­—ç¬¦ä¸²ï¼ˆå…± $2^{2n}$ ç§ï¼‰ã€‚
1. å¯¹æ¯ä¸ªå­—ç¬¦ä¸²æ£€æŸ¥æ˜¯å¦æœ‰æ•ˆï¼ˆä½¿ç”¨æ ˆæˆ–è®¡æ•°æ³•ï¼‰ã€‚
1. ä¿ç•™æœ‰æ•ˆçš„ç»“æœã€‚

> âŒ æ—¶é—´å¤æ‚åº¦è¿‡é«˜ï¼Œä»…ç”¨äºç†è§£é—®é¢˜ã€‚

______________________________________________________________________

### æ–¹æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’ï¼ˆè¿›é˜¶ï¼‰

è§‚å¯Ÿï¼šä»»ä½•åˆæ³•æ‹¬å·åºåˆ—å¯è¡¨ç¤ºä¸º `(A)B`ï¼Œå…¶ä¸­ A å’Œ B ä¹Ÿæ˜¯åˆæ³•åºåˆ—ã€‚

- `dp[i]` è¡¨ç¤º i å¯¹æ‹¬å·çš„æ‰€æœ‰åˆæ³•ç»„åˆã€‚
- é€’æ¨å…³ç³»ï¼š
  ```
  dp[i] = "(" + dp[j] + ")" + dp[i - 1 - j]  for j in [0, i-1]
  ```

> ğŸ’¡ è™½ç„¶å¯è¡Œï¼Œä½†å®ç°è¾ƒå¤æ‚ï¼Œä¸”ç©ºé—´å¼€é”€å¤§ï¼Œä¸å¦‚å›æº¯ç®€æ´ã€‚

______________________________________________________________________

# ğŸ’» ä»£ç å®ç°

<div class="code-tabs">

```java:Java
class Solution {
    public List<String> generateParenthesis(int n) {
        List<String> res = new ArrayList<>();
        backtrack(res, new StringBuilder(), 0, 0, n);
        return res;
    }

    private void backtrack(List<String> res, StringBuilder cur, int left, int right, int n) {
        if (cur.length() == 2 * n) {
            res.add(cur.toString());
            return;
        }
        if (left < n) {
            cur.append('(');
            backtrack(res, cur, left + 1, right, n);
            cur.deleteCharAt(cur.length() - 1); // å›æº¯
        }
        if (right < left) {
            cur.append(')');
            backtrack(res, cur, left, right + 1, n);
            cur.deleteCharAt(cur.length() - 1); // å›æº¯
        }
    }
}
```

```go:Go
func generateParenthesis(n int) []string {
    res := []string{}
    var backtrack func(cur string, left, right int)
    backtrack = func(cur string, left, right int) {
        if len(cur) == 2*n {
            res = append(res, cur)
            return
        }
        if left < n {
            backtrack(cur+"(", left+1, right)
        }
        if right < left {
            backtrack(cur+")", left, right+1)
        }
    }
    backtrack("", 0, 0)
    return res
}
```

</div>

______________________________________________________________________

# ğŸ§ª ç¤ºä¾‹æ¼”ç¤ºï¼ˆn = 2ï¼‰

é€’å½’è¿‡ç¨‹ç¤ºæ„ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š

```
""
â”œâ”€ "("
â”‚  â”œâ”€ "(("
â”‚  â”‚  â””â”€ "(()"
â”‚  â”‚     â””â”€ "(())" âœ…
â”‚  â””â”€ "()"
â”‚     â””â”€ "()(" 
â”‚        â””â”€ "()()" âœ…
```

æœ€ç»ˆè¾“å‡ºï¼š`["(())", "()()"]`

______________________________________________________________________

# âœ… ç­”æ¡ˆæœ‰æ•ˆæ€§è¯æ˜

**æ­£ç¡®æ€§ï¼š**

- æ¯æ¬¡æ·»åŠ  `')'` å‰ç¡®ä¿ `right < left`ï¼Œå› æ­¤ä»»æ„å‰ç¼€ä¸­å·¦æ‹¬å· â‰¥ å³æ‹¬å·ï¼›
- æœ€ç»ˆ `left = right = n`ï¼Œæ€»é•¿åº¦ä¸º `2n`ï¼Œæ»¡è¶³å®Œå…¨åŒ¹é…ï¼›
- æ‰€æœ‰å¯èƒ½è·¯å¾„éƒ½è¢«æ¢ç´¢ï¼ˆå› åªè¦æ¡ä»¶æ»¡è¶³å°±é€’å½’ï¼‰ï¼Œæ— é—æ¼ã€‚

**å®Œå¤‡æ€§ï¼š**

- ä»»ä¸€åˆæ³•æ‹¬å·åºåˆ—å¿…å¯é€šè¿‡ä¸Šè¿°è§„åˆ™ç”Ÿæˆï¼ˆæ•°å­¦å½’çº³æ³•å¯è¯ï¼‰ã€‚

______________________________________________________________________

# ğŸ“Š å¤æ‚åº¦åˆ†æ

| é¡¹ç›® | åˆ†æ |
|------|------|
| **æ—¶é—´å¤æ‚åº¦** | $O\\left(\\frac{4^n}{\\sqrt{n}}\\right)$ â€”â€” ç¬¬ n ä¸ªå¡ç‰¹å…°æ•° $C_n = \\frac{1}{n+1}\\binom{2n}{n} \\approx \\frac{4^n}{n^{3/2}\\sqrt{\\pi}}$ï¼Œå³åˆæ³•ç»„åˆæ•° |
| **ç©ºé—´å¤æ‚åº¦** | $O(n)$ â€”â€” é€’å½’æ ˆæ·±åº¦æœ€å¤§ä¸º $2n$ï¼Œå¿½ç•¥ç»“æœå­˜å‚¨ç©ºé—´ |

> ğŸ’¡ å®é™…è¿è¡Œä¸­ï¼Œç”±äºåªç”Ÿæˆæœ‰æ•ˆåºåˆ—ï¼Œæ•ˆç‡è¿œé«˜äºæš´åŠ›æ³•ã€‚

______________________________________________________________________

# ğŸ“Œ é—®é¢˜æ€»ç»“

- **æ ¸å¿ƒæ€æƒ³**ï¼šåˆ©ç”¨æ‹¬å·åˆæ³•æ€§çš„ç»“æ„æ€§è´¨ï¼ˆå·¦ â‰¥ å³ï¼‰ï¼Œé€šè¿‡å›æº¯å‰ªæã€‚
- **å…³é”®æŠ€å·§**ï¼šç”¨ `left` å’Œ `right` è®¡æ•°å™¨æ§åˆ¶é€‰æ‹©ï¼Œé¿å…æ— æ•ˆè·¯å¾„ã€‚
- **é€‚ç”¨åœºæ™¯**ï¼šç»„åˆç”Ÿæˆç±»é—®é¢˜ï¼Œå°¤å…¶æ˜¯æœ‰çº¦æŸæ¡ä»¶çš„æ’åˆ—/ç»„åˆã€‚
- **å»¶ä¼¸æ€è€ƒ**ï¼šæ­¤é¢˜æ˜¯ **å¡ç‰¹å…°æ•°** çš„ç»å…¸åº”ç”¨ä¹‹ä¸€ï¼Œç±»ä¼¼é—®é¢˜åŒ…æ‹¬ï¼šäºŒå‰æ ‘ç»“æ„è®¡æ•°ã€å‡ºæ ˆåºåˆ—ç­‰ã€‚

> âœ… æŒæ¡å›æº¯ + å‰ªææ€æƒ³ï¼Œæ˜¯è§£å†³æ­¤ç±»é—®é¢˜çš„å…³é”®ã€‚
