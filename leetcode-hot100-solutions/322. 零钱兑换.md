# âŒ|âœ…|ğŸ’¡|ğŸ“Œ 322. é›¶é’±å…‘æ¢

## ğŸ”— é—®é¢˜ç®€ä»‹

[LeetCode 322. é›¶é’±å…‘æ¢](https://leetcode.cn/problems/coin-change?envType=problem-list-v2&envId=2cktkvj)

### ğŸ“ é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `coins` ï¼Œè¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼›ä»¥åŠä¸€ä¸ªæ•´æ•° `amount` ï¼Œè¡¨ç¤ºæ€»é‡‘é¢ã€‚

è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„ **æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°**ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› `-1`ã€‚

ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚

______________________________________________________________________

## ğŸ§ª ç¤ºä¾‹è¯´æ˜

### ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šcoins = [1, 3, 4], amount = 6
è¾“å‡ºï¼š2
è§£é‡Šï¼š6 = 3 + 3
```

### ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šcoins = [2], amount = 3
è¾“å‡ºï¼š-1
```

### ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šcoins = [1], amount = 0
è¾“å‡ºï¼š0
```

______________________________________________________________________

## ğŸ’¡ è§£é¢˜æ€è·¯

è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„ **å®Œå…¨èƒŒåŒ…é—®é¢˜** çš„å˜ç§ï¼Œç›®æ ‡æ˜¯æœ€å°åŒ–æ‰€é€‰ç‰©å“ï¼ˆç¡¬å¸ï¼‰çš„æ•°é‡ï¼Œè€Œéæœ€å¤§åŒ–ä»·å€¼ã€‚

### âœ… æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ï¼ˆè‡ªåº•å‘ä¸Šï¼‰

#### æ­¥éª¤è¯¦è§£ï¼š

1. **å®šä¹‰çŠ¶æ€**ï¼š\
   è®¾ `dp[i]` è¡¨ç¤ºå‡‘æˆé‡‘é¢ `i` æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°ã€‚

1. **åˆå§‹åŒ–**ï¼š

   - `dp[0] = 0`ï¼ˆå‡‘ 0 å…ƒä¸éœ€è¦ä»»ä½•ç¡¬å¸ï¼‰
   - å…¶ä½™ `dp[i] = amount + 1`ï¼ˆä¸€ä¸ªä¸å¯èƒ½è¾¾åˆ°çš„å¤§å€¼ï¼Œç›¸å½“äºæ— ç©·å¤§ï¼‰

1. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**ï¼š\
   å¯¹äºæ¯ä¸ªé‡‘é¢ `i`ï¼ˆä» 1 åˆ° amountï¼‰ï¼Œéå†æ‰€æœ‰ç¡¬å¸ `coin`ï¼š

   ```
   if i >= coin:
       dp[i] = min(dp[i], dp[i - coin] + 1)
   ```

1. **ç»“æœåˆ¤æ–­**ï¼š\
   è‹¥ `dp[amount] > amount`ï¼Œè¯´æ˜æ— æ³•å‡‘å‡ºï¼Œè¿”å› `-1`ï¼›å¦åˆ™è¿”å› `dp[amount]`ã€‚

______________________________________________________________________

### âœ… æ–¹æ³•äºŒï¼šBFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰

å°†é—®é¢˜è§†ä¸ºå›¾æœç´¢ï¼šæ¯ä¸ªé‡‘é¢æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½¿ç”¨ä¸€æšç¡¬å¸ç›¸å½“äºä»å½“å‰é‡‘é¢è·³åˆ° `å½“å‰é‡‘é¢ + coin`ã€‚

- èµ·ç‚¹ï¼š0
- ç›®æ ‡ï¼šamount
- æ¯å±‚ BFS ä»£è¡¨ä½¿ç”¨äº†ç›¸åŒæ•°é‡çš„ç¡¬å¸
- ç¬¬ä¸€æ¬¡åˆ°è¾¾ `amount` æ—¶çš„å±‚æ•°å³ä¸ºç­”æ¡ˆ

> é€‚ç”¨äº `amount` ä¸å¤ªå¤§ä¸”ç¡¬å¸ç§ç±»å°‘çš„æƒ…å†µï¼Œä½†åœ¨æœ€åæƒ…å†µä¸‹å¤æ‚åº¦ä¸ DP ç›¸å½“ã€‚

______________________________________________________________________

### âœ… æ–¹æ³•ä¸‰ï¼šè®°å¿†åŒ–é€’å½’ï¼ˆè‡ªé¡¶å‘ä¸‹ DPï¼‰

é€’å½’å‡½æ•° `dfs(rem)` è¿”å›å‡‘æˆ `rem` æ‰€éœ€æœ€å°‘ç¡¬å¸æ•°ï¼Œç”¨å“ˆå¸Œè¡¨æˆ–æ•°ç»„ç¼“å­˜ç»“æœé¿å…é‡å¤è®¡ç®—ã€‚

> é€»è¾‘æ¸…æ™°ï¼Œä½†å¯èƒ½å› é€’å½’æ·±åº¦å¯¼è‡´æ ˆæº¢å‡ºï¼ˆJava é»˜è®¤æ ˆè¾ƒå°ï¼‰ã€‚

______________________________________________________________________

## ğŸ’» ä»£ç å®ç°

```java
class Solution {
    public int coinChange(int[] coins, int amount) {
        if (amount == 0) return 0;
        
        int[] dp = new int[amount + 1];
        // åˆå§‹åŒ–ä¸º amount + 1ï¼ˆä¸å¯èƒ½çš„å¤§å€¼ï¼‰
        Arrays.fill(dp, amount + 1);
        dp[0] = 0;
        
        for (int i = 1; i <= amount; i++) {
            for (int coin : coins) {
                if (i >= coin) {
                    dp[i] = Math.min(dp[i], dp[i - coin] + 1);
                }
            }
        }
        
        return dp[amount] > amount ? -1 : dp[amount];
    }
}
```

```go
func coinChange(coins []int, amount int) int {
    if amount == 0 {
        return 0
    }
    
    dp := make([]int, amount+1)
    // åˆå§‹åŒ–ä¸º amount + 1ï¼ˆä¸å¯èƒ½çš„å¤§å€¼ï¼‰
    for i := 1; i <= amount; i++ {
        dp[i] = amount + 1
    }
    dp[0] = 0
    
    for i := 1; i <= amount; i++ {
        for _, coin := range coins {
            if i >= coin {
                dp[i] = min(dp[i], dp[i-coin]+1)
            }
        }
    }
    
    if dp[amount] > amount {
        return -1
    }
    return dp[amount]
}

func min(a, b int) int {
    if a < b {
        return a
    }
    return b
}
```

______________________________________________________________________

## ğŸ¯ ç¤ºä¾‹æ¼”ç¤º

ä»¥ `coins = [1, 3, 4]`, `amount = 6` ä¸ºä¾‹ï¼š

| é‡‘é¢ i | dp[i] è®¡ç®—è¿‡ç¨‹ | æœ€ç»ˆ dp[i] |
|--------|----------------|------------|
| 0 | base case | 0 |
| 1 | min(âˆ, dp[0]+1)=1 | 1 |
| 2 | dp[1]+1 = 2 | 2 |
| 3 | min(âˆ, dp[0]+1=1, dp[2]+1=3) â†’ 1 | 1 |
| 4 | min(âˆ, dp[0]+1=1, dp[1]+1=2, dp[3]+1=2) â†’ 1 | 1 |
| 5 | min(âˆ, dp[1]+1=2, dp[2]+1=3, dp[4]+1=2) â†’ 2 | 2 |
| 6 | min(âˆ, dp[2]+1=3, dp[3]+1=2, dp[5]+1=3) â†’ 2 | **2** |

âœ… æœ€ç»ˆç­”æ¡ˆï¼š2ï¼ˆ3+3ï¼‰

______________________________________________________________________

## âœ… ç­”æ¡ˆæœ‰æ•ˆæ€§è¯æ˜

- **æœ€ä¼˜å­ç»“æ„**ï¼šå‡‘æˆé‡‘é¢ `i` çš„æœ€ä¼˜è§£åŒ…å«å­é—®é¢˜ `i - coin` çš„æœ€ä¼˜è§£ã€‚
- **é‡å å­é—®é¢˜**ï¼šå¤šä¸ªè·¯å¾„å¯èƒ½åˆ°è¾¾åŒä¸€é‡‘é¢ï¼ŒDP é¿å…é‡å¤è®¡ç®—ã€‚
- **è¾¹ç•Œå¤„ç†æ­£ç¡®**ï¼š`amount = 0` è¿”å› 0ï¼›æ— æ³•å‡‘å‡ºæ—¶è¿”å› -1ã€‚
- **åˆå§‹åŒ–åˆç†**ï¼š`amount + 1` ä½œä¸ºâ€œæ— ç©·å¤§â€ç¡®ä¿ä¸ä¼šè¢«è¯¯è®¤ä¸ºæœ‰æ•ˆè§£ã€‚

______________________________________________________________________

## ğŸ“Š å¤æ‚åº¦åˆ†æ

| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | è¯´æ˜ |
|------|------------|------------|------|
| åŠ¨æ€è§„åˆ’ï¼ˆæ¨èï¼‰ | $O(amount \\times n)$ | $O(amount)$ | `n = coins.length` |
| BFS | æœ€å $O(amount \\times n)$ | $O(amount)$ | å®é™…ä¸­å¯èƒ½æå‰ç»ˆæ­¢ |
| è®°å¿†åŒ–é€’å½’ | $O(amount \\times n)$ | $O(amount)$ | é€’å½’æ ˆå¼€é”€é¢å¤– $O(amount)$ |

> ğŸ’¡ **DP æ˜¯æœ€ä¼˜é€‰æ‹©**ï¼šç®€æ´ã€é«˜æ•ˆã€æ— é€’å½’é£é™©ã€‚

______________________________________________________________________

## ğŸ“Œ é—®é¢˜æ€»ç»“

- **æ ¸å¿ƒæ€æƒ³**ï¼šå®Œå…¨èƒŒåŒ…çš„æœ€å°åŒ–ç‰ˆæœ¬ï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ã€‚
- **å…³é”®æŠ€å·§**ï¼š
  - åˆç†åˆå§‹åŒ–â€œæ— ç©·å¤§â€å€¼ï¼ˆ`amount + 1` å®‰å…¨ä¸”æ˜“åˆ¤æ–­ï¼‰
  - çŠ¶æ€è½¬ç§»æ—¶æ³¨æ„ `i >= coin` çš„è¾¹ç•Œ
- **å¸¸è§é™·é˜±**ï¼š
  - å¿˜è®°å¤„ç† `amount = 0` çš„æƒ…å†µ
  - åˆå§‹åŒ–ä¸º `Integer.MAX_VALUE` å¯èƒ½å¯¼è‡´ `+1` æº¢å‡º
- **æ‰©å±•æ€è€ƒ**ï¼š
  - è‹¥è¦æ±‚è¾“å‡ºå…·ä½“ç¡¬å¸ç»„åˆï¼Ÿâ†’ éœ€è®°å½•è·¯å¾„ï¼ˆparent æ•°ç»„ï¼‰
  - è‹¥ç¡¬å¸æ•°é‡æœ‰é™ï¼Ÿâ†’ è½¬ä¸º 0-1 èƒŒåŒ…æˆ–å¤šç»´èƒŒåŒ…

> âœ… æŒæ¡æ­¤é¢˜ï¼Œå°±æŒæ¡äº†**å®Œå…¨èƒŒåŒ…**å’Œ**æœ€å°åŒ– DP** çš„ç»å…¸èŒƒå¼ï¼
