# 617. åˆå¹¶äºŒå‰æ ‘

ğŸ”— [LeetCode ä¸­æ–‡é“¾æ¥](https://leetcode.cn/problems/merge-two-binary-trees?envType=problem-list-v2&envId=2cktkvj)

## â“ é¢˜ç›®æè¿°

ç»™ä½ ä¸¤æ£µäºŒå‰æ ‘ `root1` å’Œ `root2`ã€‚è¯·ä½ åˆå¹¶æˆä¸€æ£µæ–°çš„äºŒå‰æ ‘ã€‚åˆå¹¶è§„åˆ™å¦‚ä¸‹ï¼š

- å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹é‡å ï¼ˆå³éƒ½éç©ºï¼‰ï¼Œé‚£ä¹ˆå°†è¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ç›¸åŠ ä½œä¸ºåˆå¹¶åèŠ‚ç‚¹çš„æ–°å€¼ã€‚
- å¦‚æœå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™åˆå¹¶åçš„äºŒå‰æ ‘ä¸­è¯¥ä½ç½®ç›´æ¥ä½¿ç”¨å¦ä¸€ä¸ªéç©ºèŠ‚ç‚¹ã€‚
- åˆå¹¶è¿‡ç¨‹å¿…é¡»ä»ä¸¤ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ã€‚

è¿”å›åˆå¹¶åçš„äºŒå‰æ ‘ã€‚

> æ³¨æ„ï¼šåˆå¹¶è¿‡ç¨‹å¿…é¡»**ä»å¯¹åº”çš„èŠ‚ç‚¹å¼€å§‹é€’å½’è¿›è¡Œ**ï¼Œä¸èƒ½æ‰“ä¹±ç»“æ„ã€‚

______________________________________________________________________

## ğŸ“Œ ç¤ºä¾‹è¯´æ˜

### ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼š
root1 = [1,3,2,5]
root2 = [2,1,3,null,4,null,7]

è¾“å‡ºï¼š
[3,4,5,5,4,null,7]
```

å›¾ç¤ºå¦‚ä¸‹ï¼š

```
       Tree 1                     Tree 2                   Merged Tree
         1                         2                             3
        / \                       / \                           / \
       3   2                     1   3                         4   5
      /                           \   \                       / \   \
     5                             4   7                     5   4   7
```

### ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šroot1 = [1], root2 = [1,2]
è¾“å‡ºï¼š[2,2]
```

______________________________________________________________________

## ğŸ’¡ è§£é¢˜æ€è·¯

### âœ… æ–¹æ³•ä¸€ï¼šé€’å½’ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ DFSï¼‰

è¿™æ˜¯æœ€ç›´è§‚çš„æ–¹æ³•ï¼š

1. **ç»ˆæ­¢æ¡ä»¶**ï¼š

   - å¦‚æœ `root1 == null`ï¼Œç›´æ¥è¿”å› `root2`ï¼›
   - å¦‚æœ `root2 == null`ï¼Œç›´æ¥è¿”å› `root1`ã€‚

1. **é€’å½’é€»è¾‘**ï¼š

   - åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå…¶å€¼ä¸º `root1.val + root2.val`ï¼›
   - æ–°èŠ‚ç‚¹çš„å·¦å­æ ‘ = åˆå¹¶ `root1.left` å’Œ `root2.left`ï¼›
   - æ–°èŠ‚ç‚¹çš„å³å­æ ‘ = åˆå¹¶ `root1.right` å’Œ `root2.right`ï¼›
   - è¿”å›æ–°èŠ‚ç‚¹ã€‚

> âš ï¸ æ³¨æ„ï¼šä¹Ÿå¯ä»¥**åŸåœ°ä¿®æ”¹**å…¶ä¸­ä¸€æ£µæ ‘ï¼ˆå¦‚ `root1`ï¼‰ï¼ŒèŠ‚çœç©ºé—´ã€‚ä½†é¢˜ç›®æœªè¦æ±‚æ˜¯å¦å¯ä¿®æ”¹åŸæ ‘ï¼Œé€šå¸¸å»ºè®®ä¸ç ´åè¾“å…¥ã€‚

______________________________________________________________________

### âœ… æ–¹æ³•äºŒï¼šè¿­ä»£ï¼ˆä½¿ç”¨æ ˆæ¨¡æ‹Ÿé€’å½’ï¼‰

ç”¨æ ˆæ¥ä¿å­˜å¾…å¤„ç†çš„èŠ‚ç‚¹å¯¹ `(node1, node2)`ï¼š

1. åˆå§‹åŒ–æ ˆï¼Œå‹å…¥ `(root1, root2)`ï¼›
1. å¾ªç¯ç›´åˆ°æ ˆç©ºï¼š
   - å¼¹å‡ºä¸€å¯¹èŠ‚ç‚¹ï¼›
   - è‹¥ä»»ä¸€ä¸ºç©ºï¼Œè·³è¿‡ï¼›
   - å¦åˆ™ï¼Œå°†å€¼ç›¸åŠ ï¼Œå¹¶æŠŠå·¦å³å­èŠ‚ç‚¹å¯¹å‹å…¥æ ˆï¼›
1. è¿”å› `root1`ï¼ˆå‡è®¾æˆ‘ä»¬ä¿®æ”¹ `root1`ï¼‰ã€‚

> æ­¤æ–¹æ³•é€‚åˆä¸æƒ³ç”¨é€’å½’æˆ–æ‹…å¿ƒæ ˆæº¢å‡ºçš„åœºæ™¯ã€‚

______________________________________________________________________

## ğŸ’» ä»£ç å®ç°

<div class="code-tabs">

```java:Java
// æ–¹æ³•ä¸€ï¼šé€’å½’ï¼ˆæ¨èï¼‰
class Solution {
    public TreeNode mergeTrees(TreeNode root1, TreeNode root2) {
        if (root1 == null) return root2;
        if (root2 == null) return root1;
        
        TreeNode merged = new TreeNode(root1.val + root2.val);
        merged.left = mergeTrees(root1.left, root2.left);
        merged.right = mergeTrees(root1.right, root2.right);
        return merged;
    }
}

// æ–¹æ³•äºŒï¼šè¿­ä»£ï¼ˆåŸåœ°ä¿®æ”¹ root1ï¼‰
class Solution {
    public TreeNode mergeTrees(TreeNode root1, TreeNode root2) {
        if (root1 == null) return root2;
        if (root2 == null) return root1;
        
        Stack<TreeNode[]> stack = new Stack<>();
        stack.push(new TreeNode[]{root1, root2});
        
        while (!stack.isEmpty()) {
            TreeNode[] t = stack.pop();
            if (t[0] == null || t[1] == null) continue;
            
            t[0].val += t[1].val;
            
            if (t[0].left == null) {
                t[0].left = t[1].left;
            } else {
                stack.push(new TreeNode[]{t[0].left, t[1].left});
            }
            
            if (t[0].right == null) {
                t[0].right = t[1].right;
            } else {
                stack.push(new TreeNode[]{t[0].right, t[1].right});
            }
        }
        return root1;
    }
}
```

```go:Go
// æ–¹æ³•ä¸€ï¼šé€’å½’ï¼ˆæ¨èï¼‰
func mergeTrees(root1 *TreeNode, root2 *TreeNode) *TreeNode {
    if root1 == nil {
        return root2
    }
    if root2 == nil {
        return root1
    }
    
    merged := &TreeNode{Val: root1.Val + root2.Val}
    merged.Left = mergeTrees(root1.Left, root2.Left)
    merged.Right = mergeTrees(root1.Right, root2.Right)
    return merged
}

// æ–¹æ³•äºŒï¼šè¿­ä»£ï¼ˆåŸåœ°ä¿®æ”¹ root1ï¼‰
func mergeTrees(root1 *TreeNode, root2 *TreeNode) *TreeNode {
    if root1 == nil {
        return root2
    }
    if root2 == nil {
        return root1
    }

    stack := [][]*TreeNode{{root1, root2}}
    for len(stack) > 0 {
        pair := stack[len(stack)-1]
        stack = stack[:len(stack)-1]
        if pair[0] == nil || pair[1] == nil {
            continue
        }

        pair[0].Val += pair[1].Val

        if pair[0].Left == nil {
            pair[0].Left = pair[1].Left
        } else {
            stack = append(stack, []*TreeNode{pair[0].Left, pair[1].Left})
        }

        if pair[0].Right == nil {
            pair[0].Right = pair[1].Right
        } else {
            stack = append(stack, []*TreeNode{pair[0].Right, pair[1].Right})
        }
    }
    return root1
}
```

</div>

______________________________________________________________________

## ğŸ§ª ç¤ºä¾‹æ¼”ç¤ºï¼ˆä»¥ç¤ºä¾‹1ä¸ºä¾‹ï¼‰

| æ­¥éª¤ | root1 èŠ‚ç‚¹ | root2 èŠ‚ç‚¹ | åˆå¹¶åèŠ‚ç‚¹ |
|------|------------|------------|-------------|
| 1 | 1 | 2 | 3 |
| 2 | 3 | 1 | 4 |
| 3 | 5 | null | 5 |
| 4 | null | 4 | 4 |
| 5 | 2 | 3 | 5 |
| 6 | null | 7 | 7 |

æœ€ç»ˆæ„å»ºå‡º `[3,4,5,5,4,null,7]`ã€‚

______________________________________________________________________

## âœ… ç­”æ¡ˆæœ‰æ•ˆæ€§è¯æ˜

- **æ­£ç¡®æ€§**ï¼š

  - æ¯ä¸ªå¯¹åº”ä½ç½®çš„èŠ‚ç‚¹éƒ½è¢«è®¿é—®ä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ï¼›
  - ç©ºèŠ‚ç‚¹å¤„ç†ç¬¦åˆé¢˜æ„ï¼ˆç›´æ¥å–éç©ºèŠ‚ç‚¹ï¼‰ï¼›
  - éç©ºèŠ‚ç‚¹å€¼æ­£ç¡®ç›¸åŠ ï¼›
  - å­æ ‘ç»“æ„é€šè¿‡é€’å½’/è¿­ä»£ä¿æŒä¸€è‡´ã€‚

- **è¾¹ç•Œæƒ…å†µè¦†ç›–**ï¼š

  - ä¸¤æ£µæ ‘éƒ½ä¸ºç©º â†’ è¿”å› nullï¼›
  - ä¸€æ£µä¸ºç©º â†’ è¿”å›å¦ä¸€æ£µï¼›
  - å•èŠ‚ç‚¹ã€å®Œå…¨ä¸å¹³è¡¡æ ‘ç­‰å‡èƒ½æ­£ç¡®å¤„ç†ã€‚

______________________________________________________________________

## ğŸ“Š å¤æ‚åº¦åˆ†æ

| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | è¯´æ˜ |
|------|------------|------------|------|
| é€’å½’ | O(min(m, n)) | O(min(m, n)) | m, n ä¸ºä¸¤æ£µæ ‘çš„èŠ‚ç‚¹æ•°ï¼›é€’å½’æ ˆæ·±åº¦æœ€åä¸ºæ ‘é«˜ |
| è¿­ä»£ | O(min(m, n)) | O(min(m, n)) | æ ˆä¸­æœ€å¤šå­˜å‚¨ min(m, n) ä¸ªèŠ‚ç‚¹å¯¹ |

> ğŸ’¡ å®é™…ä¸Šï¼Œæˆ‘ä»¬åªéå†**ä¸¤æ£µæ ‘é‡å çš„éƒ¨åˆ†**ï¼Œæ‰€ä»¥æ˜¯ `min(m, n)` è€Œé `m + n`ã€‚

______________________________________________________________________

## ğŸ§  é—®é¢˜æ€»ç»“

- âœ… **æ ¸å¿ƒæ€æƒ³**ï¼šæ ‘çš„ç»“æ„å¤©ç„¶é€‚åˆé€’å½’ï¼Œæœ¬é¢˜æ˜¯å…¸å‹çš„â€œåŒæ„æ ‘åŒæ­¥éå†â€é—®é¢˜ã€‚
- âœ… **å…³é”®æŠ€å·§**ï¼šå¤„ç†ç©ºèŠ‚ç‚¹æ—¶ç›´æ¥è¿”å›å¯¹æ–¹ï¼Œé¿å…å†—ä½™åˆ¤æ–­ã€‚
- âœ… **æ‰©å±•æ€è€ƒ**ï¼š
  - è‹¥è¦æ±‚**ä¸åˆ›å»ºæ–°èŠ‚ç‚¹**ï¼Œå¯åŸåœ°ä¿®æ”¹ `root1`ï¼ˆå¦‚è¿­ä»£è§£æ³•æ‰€ç¤ºï¼‰ï¼›
  - è‹¥æ ‘éå¸¸æ·±ï¼Œé€’å½’å¯èƒ½å¯¼è‡´æ ˆæº¢å‡ºï¼Œæ­¤æ—¶è¿­ä»£æ›´å®‰å…¨ï¼›
  - æ­¤æ¨¡å¼å¯æ¨å¹¿åˆ°å…¶ä»–â€œåŒæ ‘æ“ä½œâ€é—®é¢˜ï¼ˆå¦‚æ¯”è¾ƒã€é•œåƒåˆå¹¶ç­‰ï¼‰ã€‚

ğŸ“Œ **ä¸€å¥è¯æ€»ç»“**ï¼š**åŒæ­¥éå† + ç©ºå€¼å¤„ç† + å€¼åˆå¹¶ = è½»æ¾è§£å†³ï¼**
