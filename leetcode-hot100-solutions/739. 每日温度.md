# é—®é¢˜ç®€ä»‹

ğŸ”— [LeetCode 739. æ¯æ—¥æ¸©åº¦](https://leetcode.cn/problems/daily-temperatures?envType=problem-list-v2&envId=2cktkvj)

## ğŸ“ é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `temperatures`ï¼Œè¡¨ç¤ºæ¯å¤©çš„æ°”æ¸©ã€‚è¯·è¿”å›ä¸€ä¸ªæ•°ç»„ `answer`ï¼Œå…¶ä¸­ `answer[i]` æ˜¯æŒ‡å¯¹äºç¬¬ `i` å¤©ï¼Œä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦å‡ºç°åœ¨å‡ å¤©åã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ `0` æ¥ä»£æ›¿ã€‚

______________________________________________________________________

# ğŸ§ª ç¤ºä¾‹è¯´æ˜

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: temperatures = [73,74,75,71,69,72,76,73]
è¾“å‡º: [1,1,4,2,1,1,0,0]
```

è§£é‡Šï¼š

- ç¬¬ 0 å¤©ï¼ˆ73ï¼‰â†’ ç¬¬ 1 å¤©ï¼ˆ74ï¼‰æ›´é«˜ â†’ ç­‰å¾… 1 å¤©
- ç¬¬ 1 å¤©ï¼ˆ74ï¼‰â†’ ç¬¬ 2 å¤©ï¼ˆ75ï¼‰æ›´é«˜ â†’ ç­‰å¾… 1 å¤©
- ç¬¬ 2 å¤©ï¼ˆ75ï¼‰â†’ ä¸‹ä¸€ä¸ªæ›´é«˜æ˜¯ç¬¬ 6 å¤©ï¼ˆ76ï¼‰â†’ ç­‰å¾… 4 å¤©
- ...
- ç¬¬ 6ã€7 å¤©ä¹‹åæ— æ›´é«˜æ¸©åº¦ â†’ 0

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: temperatures = [30,40,50,60]
è¾“å‡º: [1,1,1,0]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥: temperatures = [30,60,90]
è¾“å‡º: [1,1,0]
```

______________________________________________________________________

# ğŸ’¡ è§£é¢˜æ€è·¯

## âœ… æ–¹æ³•ä¸€ï¼šå•è°ƒæ ˆï¼ˆæ¨èï¼‰

### æ ¸å¿ƒæ€æƒ³ï¼š

- ä½¿ç”¨ **å•è°ƒé€’å‡æ ˆ** å­˜å‚¨æ•°ç»„ä¸‹æ ‡ã€‚
- éå†æ¯ä¸€å¤©çš„æ¸©åº¦ï¼š
  - å¦‚æœå½“å‰æ¸©åº¦ **å¤§äº** æ ˆé¡¶å¯¹åº”æ¸©åº¦ï¼Œåˆ™è¯´æ˜æ‰¾åˆ°äº†â€œä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦â€ã€‚
  - å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå¹¶è®¡ç®—å¤©æ•°å·®ï¼ˆå½“å‰ç´¢å¼• - æ ˆé¡¶ç´¢å¼•ï¼‰ï¼Œå¡«å…¥ç»“æœæ•°ç»„ã€‚
  - é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°æ ˆä¸ºç©ºæˆ–å½“å‰æ¸©åº¦ â‰¤ æ ˆé¡¶æ¸©åº¦ã€‚
  - å°†å½“å‰ç´¢å¼•å…¥æ ˆã€‚

> å•è°ƒæ ˆå¤©ç„¶é€‚åˆè§£å†³â€œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â€ç±»é—®é¢˜ã€‚

### æ­¥éª¤è¯¦è§£ï¼š

1. åˆå§‹åŒ–ç»“æœæ•°ç»„ `ans`ï¼Œé•¿åº¦ä¸ `temperatures` ç›¸åŒï¼Œåˆå§‹å€¼ä¸º 0ã€‚
1. åˆ›å»ºä¸€ä¸ªç©ºæ ˆï¼ˆå­˜å‚¨ç´¢å¼•ï¼‰ã€‚
1. éå† `i` ä» 0 åˆ° n-1ï¼š
   - while æ ˆéç©º ä¸” `temperatures[i] > temperatures[stack.peek()]`ï¼š
     - `idx = stack.pop()`
     - `ans[idx] = i - idx`
   - `stack.push(i)`
1. è¿”å› `ans`

______________________________________________________________________

## âŒ æ–¹æ³•äºŒï¼šæš´åŠ›æ³•ï¼ˆä¸æ¨èï¼‰

å¯¹æ¯ä¸ªä½ç½® `i`ï¼Œå‘å³çº¿æ€§æŸ¥æ‰¾ç¬¬ä¸€ä¸ªæ¯” `temperatures[i]` å¤§çš„æ¸©åº¦ã€‚

- æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

è™½ç„¶ç®€å•ï¼Œä½†åœ¨ LeetCode ä¸Šä¼šè¶…æ—¶ï¼ˆå°¤å…¶å½“ n å¾ˆå¤§æ—¶ï¼‰ã€‚

______________________________________________________________________

# ğŸ’» ä»£ç å®ç°

<div class="code-tabs">

```java
// Java å®ç°
class Solution {
    public int[] dailyTemperatures(int[] temperatures) {
        int n = temperatures.length;
        int[] ans = new int[n];
        Deque<Integer> stack = new ArrayDeque<>(); // å­˜å‚¨ç´¢å¼•
        
        for (int i = 0; i < n; i++) {
            // å½“å‰æ¸©åº¦æ¯”æ ˆé¡¶é«˜ â†’ æ‰¾åˆ°ç­”æ¡ˆ
            while (!stack.isEmpty() && temperatures[i] > temperatures[stack.peek()]) {
                int idx = stack.pop();
                ans[idx] = i - idx;
            }
            stack.push(i);
        }
        
        return ans;
    }
}
```

```go
// Go å®ç°
func dailyTemperatures(temperatures []int) []int {
    n := len(temperatures)
    ans := make([]int, n)
    stack := []int{} // ç”¨åˆ‡ç‰‡æ¨¡æ‹Ÿæ ˆï¼Œå­˜å‚¨ç´¢å¼•
    
    for i := 0; i < n; i++ {
        // å½“å‰æ¸©åº¦æ›´é«˜ï¼Œå¼¹å‡ºå¹¶è®¡ç®—
        for len(stack) > 0 && temperatures[i] > temperatures[stack[len(stack)-1]] {
            idx := stack[len(stack)-1]
            stack = stack[:len(stack)-1] // pop
            ans[idx] = i - idx
        }
        stack = append(stack, i) // push
    }
    
    return ans
}
```

</div>

______________________________________________________________________

# ğŸ¯ ç¤ºä¾‹æ¼”ç¤ºï¼ˆä»¥ [73,74,75,71,69,72,76,73] ä¸ºä¾‹ï¼‰

| i | temp | stack (ç´¢å¼•) | æ“ä½œ | ans æ›´æ–° |
|---|------|---------------|------|--------|
| 0 | 73 | [0] | å…¥æ ˆ | [0,...] |
| 1 | 74 | [1] | 74>73 â†’ å¼¹å‡º0ï¼Œans[0]=1 | [1,0,...] |
| 2 | 75 | [2] | 75>74 â†’ å¼¹å‡º1ï¼Œans[1]=1 | [1,1,0,...] |
| 3 | 71 | [2,3] | å…¥æ ˆ | ... |
| 4 | 69 | [2,3,4] | å…¥æ ˆ | ... |
| 5 | 72 | [2,5] | 72>69 â†’ ans[4]=1ï¼›72>71 â†’ ans[3]=2 | ... |
| 6 | 76 | [6] | 76>72 â†’ ans[5]=1ï¼›76>75 â†’ ans[2]=4 | [1,1,4,2,1,1,0,0] |
| 7 | 73 | [6,7] | å…¥æ ˆ | æœ€ç»ˆ ans[6]=0, ans[7]=0 |

âœ… æœ€ç»ˆç»“æœï¼š`[1,1,4,2,1,1,0,0]`

______________________________________________________________________

# âœ… ç­”æ¡ˆæœ‰æ•ˆæ€§è¯æ˜

- **æ­£ç¡®æ€§**ï¼š
  - å•è°ƒæ ˆä¿è¯äº†æ¯ä¸ªå…ƒç´ å…¥æ ˆä¸€æ¬¡ã€å‡ºæ ˆä¸€æ¬¡ã€‚
  - å½“ `temperatures[i] > temperatures[j]`ï¼ˆj åœ¨æ ˆä¸­ï¼‰ï¼Œç”±äºæ ˆæ˜¯é€’å‡çš„ï¼Œ`i` æ˜¯ `j` å³ä¾§ç¬¬ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ã€‚
  - å› æ­¤ `i - j` æ˜¯æœ€å°ç­‰å¾…å¤©æ•°ã€‚
- **å®Œæ•´æ€§**ï¼š
  - æ‰€æœ‰æœªè¢«å¼¹å‡ºçš„å…ƒç´ ï¼ˆå¦‚æœ€åä¸¤å¤©ï¼‰åœ¨ `ans` ä¸­ä¿æŒåˆå§‹å€¼ 0ï¼Œç¬¦åˆé¢˜æ„ã€‚

______________________________________________________________________

# ğŸ“Š å¤æ‚åº¦åˆ†æ

| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | è¯´æ˜ |
|------|------------|------------|------|
| å•è°ƒæ ˆ | **O(n)** | **O(n)** | æ¯ä¸ªå…ƒç´ æœ€å¤šå…¥æ ˆå‡ºæ ˆä¸€æ¬¡ |
| æš´åŠ›æ³• | O(nÂ²) | O(1) | æœ€åæƒ…å†µéœ€éå†æ‰€æœ‰åç»­å…ƒç´  |

> âœ… å•è°ƒæ ˆæ˜¯æœ€ä¼˜è§£ã€‚

______________________________________________________________________

# ğŸ“Œ é—®é¢˜æ€»ç»“

- **é¢˜å‹å½’ç±»**ï¼šç»å…¸ã€Œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€é—®é¢˜ï¼ˆNext Greater Elementï¼‰ã€‚
- **å…³é”®æŠ€å·§**ï¼šä½¿ç”¨ **å•è°ƒé€’å‡æ ˆ** å­˜å‚¨ç´¢å¼•ï¼Œé«˜æ•ˆå®šä½å³ä¾§ç¬¬ä¸€ä¸ªæ›´å¤§å€¼ã€‚
- **æ‰©å±•æ€è€ƒ**ï¼š
  - è‹¥æ±‚â€œä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ â€ï¼Œå¯ä»å³å¾€å·¦éå†ã€‚
  - è‹¥æ±‚â€œä¸‹ä¸€ä¸ªæ›´å°å…ƒç´ â€ï¼Œæ”¹ç”¨å•è°ƒé€’å¢æ ˆã€‚
- **åº”ç”¨åœºæ™¯**ï¼šè‚¡ç¥¨äº¤æ˜“ã€ç›´æ–¹å›¾æœ€å¤§çŸ©å½¢ã€æ»‘åŠ¨çª—å£æœ€å¤§å€¼ç­‰ã€‚

> ğŸ’¡ æŒæ¡å•è°ƒæ ˆï¼Œå°±æŒæ¡äº†ä¸€ç±»é«˜é¢‘ç®—æ³•é¢˜çš„æ ¸å¿ƒï¼
